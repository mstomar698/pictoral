(self.webpackChunkimage_editor=self.webpackChunkimage_editor||[]).push([[790],{5805:(e,t,n)=>{"use strict";n.d(t,{E9:()=>l,U4:()=>s,Vf:()=>a,fM:()=>u,g6:()=>o,vF:()=>c,zo:()=>i});var r=n(8928);function o(e){return{type:r.SET_ZOOM_RATIO,zoomRatio:e}}function i(e){return{type:r.SET_WIDTH_HEIGHT,width:e.width,height:e.height}}function a(e){return{type:r.SHOW_CROP_HANDLERS,show:e}}function l(e){return{type:r.SHOW_PIXELATE_HANDLERS,visible:e}}function c(e){return{type:r.SET_PIXELATE_HANDLERS_POSITION,rect:e}}function s(e){return{type:r.SHOW_MINI_HANDLERS,visible:e}}function u(e){return{type:r.SET_MINI_HANDLERS_HEIGHTS,heights:e}}},1790:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.r(t);var o=n(6113),i=n(3894),a=n(4791),l=n(4655),c=(n(6124),n(7294)),s=n(3935),u=n(9116),p=n(4506),f=(n(7654),e([u]));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"===y(o=v(r.key,"string"))?o:String(o)),r)}var o}function v(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}u=(f.then?(await f)():f)[0];var d={imgStat:(0,l.d0)({zoomRatio:0,width:0,height:0}),cropHandlersVisible:!1,pixelateHandlers:(0,l.d0)({visible:!1,position:{x:0,y:0,width:0,height:0}}),miniHandlers:(0,l.d0)({visible:!1,heights:{top:0,bottom:0}})},h=(0,a.MT)(p.Z,d,(0,a.qC)((0,a.md)(i.Z),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),m=function(e){w(a,e);var t,n,r,o,i=(t=a,n=S(),function(){var e,r=_(t);if(n){var o=_(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O(this,e)});function a(e){var t;return g(this,a),(t=i.call(this,e)).state={loading:!1},t}return r=a,(o=[{key:"render",value:function(){return c.createElement(u.Z,null)}}])&&b(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(c.Component);s.render(c.createElement(o.zt,{store:h},c.createElement(m,null)),document.getElementById("main")),r()}catch(j){r(j)}}))},3350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7294),o=n(6113);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}var d={xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiIHZlcnNpb249IjEuMSI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjUiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iIzAwN2RmYyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9zdmc+",preserveAspectRatio:"none",width:"18",height:"18"},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(m,e);var t,n,o,f,h=(o=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),p(s(t=h.call(this,e)),"setCropRegionInfo",(function(){var e=t.cropRegionInfo.getElementsByClassName("canvas-handler-region-info"),n=e[0],r=e[1],o=e[2],i=e[3],a=t.props.zoomRatio;n.innerText=Math.round(t.handlerWidth/a)+" px",r.innerText=Math.round(t.handlerHeight/a)+" px",o.innerText=Math.round((t.handlerX-9)/a),i.innerText=Math.round((t.handlerY-9)/a)})),p(s(t),"noGhosting",(function(e){return e.preventDefault()})),p(s(t),"componentDidMount",(function(){t.cropRegionInfo=document.getElementById("crop-region-info");for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].addEventListener("mousedown",t.noGhosting)})),p(s(t),"componentWillUnmount",(function(){for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].removeEventListener("mousedown",t.noGhosting)})),p(s(t),"componentDidUpdate",(function(e){var n=t.props.zoomRatio/e.zoomRatio;t.handlerX=Math.round((t.handlerX-9)*n+9),t.handlerY=Math.round((t.handlerY-9)*n+9),t.handlerWidth=Math.round(t.handlerWidth*n),t.handlerHeight=Math.round(t.handlerHeight*n),t.canvasWidth=Math.round(t.canvasWidth*n),t.canvasHeight=Math.round(t.canvasHeight*n),t.setPosition()})),p(s(t),"setPosition",(function(){for(var e=[[t.handlerX-9,t.handlerY-9],[t.handlerX-9+t.handlerWidth,t.handlerY-9],[t.handlerX-9+t.handlerWidth,t.handlerY-9+t.handlerHeight],[t.handlerX-9,t.handlerY-9+t.handlerHeight],[t.handlerX-9+.5*t.handlerWidth,t.handlerY-9],[t.handlerX-9+t.handlerWidth,t.handlerY-9+.5*t.handlerHeight],[t.handlerX-9+.5*t.handlerWidth,t.handlerY-9+t.handlerHeight],[t.handlerX-9,t.handlerY-9+.5*t.handlerHeight]],n=t.svg.getElementsByTagName("image"),r=0;r<n.length;r++)n[r].setAttribute("x",e[r][0]),n[r].setAttribute("y",e[r][1]);var o=t.svg.getElementsByTagName("path")[0],i=y({x:9,y:9,width:t.canvasWidth,height:t.canvasHeight},{x:t.handlerX,y:t.handlerY,width:t.handlerWidth,height:t.handlerHeight});o.setAttribute("d",i);var a=t.svg.getElementsByTagName("rect")[0];a.setAttribute("x",t.handlerX+9),a.setAttribute("y",t.handlerY+9),a.setAttribute("width",t.handlerWidth-18),a.setAttribute("height",t.handlerHeight-18)})),p(s(t),"onMouseDown",(function(e){e.target.classList.contains("canvas-handler")&&("handler-8"===e.target.id&&(e.target.style.cursor="grabbing"),t.handlerMovingX=e.clientX,t.handlerMovingY=e.clientY,t.setState({selectedHandler:e.target.id}))})),p(s(t),"onMouseUp",(function(e){t.state.selectedHandler&&("handler-8"===t.state.selectedHandler&&(e.target.style.cursor="grab"),t.setState({selectedHandler:""}))})),p(s(t),"onMouseLeave",(function(e){t.svg.getElementsByTagName("rect")[0].style.cursor="grab",""!==t.state.selectedHandler&&t.setState({selectedHandler:""})})),p(s(t),"onMouseMove",(function(e){if(t.state.selectedHandler){var n=e.clientX,r=e.clientY,o=n-t.handlerMovingX,i=r-t.handlerMovingY,a=t.handlerX,l=t.handlerY,c=t.handlerWidth,s=t.handlerHeight;switch(parseInt(t.state.selectedHandler.split("-")[1])){case 0:t.handlerX+=o,t.handlerY+=i,t.handlerWidth-=o,t.handlerHeight-=i;break;case 1:t.handlerY+=i,t.handlerWidth+=o,t.handlerHeight-=i;break;case 2:t.handlerWidth+=o,t.handlerHeight+=i;break;case 3:t.handlerX+=o,t.handlerWidth-=o,t.handlerHeight+=i;break;case 4:t.handlerY+=i,t.handlerHeight-=i;break;case 5:t.handlerWidth+=o;break;case 6:t.handlerHeight+=i;break;case 7:t.handlerX+=o,t.handlerWidth-=o;break;case 8:t.handlerX+=o,t.handlerY+=i}if(t.handlerX-9+t.handlerWidth>t.canvasWidth||t.handlerX-9<0||t.handlerY-9+t.handlerHeight>t.canvasHeight||t.handlerY-9<0||t.handlerWidth<20||t.handlerHeight<20)return t.handlerX=a,t.handlerY=l,t.handlerWidth=c,void(t.handlerHeight=s);t.handlerMovingX=n,t.handlerMovingY=r,t.setCropRegionInfo(),t.setPosition()}})),t.state={selectedHandler:""},t.cropRegionInfo=null,t.canvas=document.getElementById("canvas"),t.canvasWidth=Math.round(e.imgWidth*e.zoomRatio),t.canvasHeight=Math.round(e.imgHeight*e.zoomRatio),t.canvasBbox=t.canvas.getBoundingClientRect(),t.svg=null,t.handlerX=9,t.handlerY=9,t.handlerWidth=t.canvasWidth,t.handlerHeight=t.canvasHeight,t.handlerMovingX=0,t.handlerMovingY=0,t}return t=m,(n=[{key:"render",value:function(){var e=this,t=this.handlerWidth,n=this.handlerHeight,o=this.canvas.style.left,i=this.canvas.style.top,l={position:"absolute",left:parseInt(o)-9+20+"px",top:parseInt(i)-9+20+"px",width:this.canvasWidth+18,height:this.canvasHeight+18},c=y({x:9,y:9,width:t,height:n},{x:9,y:9,width:this.canvasWidth,height:this.canvasHeight}),s=r.createElement("path",{d:c,fill:"#000",fillOpacity:.6,strokeWidth:1});return r.createElement("svg",{id:"canvas-handler",ref:function(t){return e.svg=t},style:l,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},s,r.createElement("image",a({style:{cursor:"nwse-resize"},className:"canvas-handler",id:"handler-0",x:0,y:0},d)),r.createElement("image",a({style:{cursor:"nesw-resize"},className:"canvas-handler",id:"handler-1",x:t,y:0},d)),r.createElement("image",a({style:{cursor:"nwse-resize"},className:"canvas-handler",id:"handler-2",x:t,y:n},d)),r.createElement("image",a({style:{cursor:"nesw-resize"},className:"canvas-handler",id:"handler-3",x:0,y:n},d)),r.createElement("rect",{x:18,y:18,width:t-18,height:n-18,className:"canvas-handler",id:"handler-8",fillOpacity:0,cursor:"grab"}),r.createElement("image",a({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-4",x:.5*t,y:0},d)),r.createElement("image",a({style:{cursor:"ew-resize"},className:"canvas-handler",id:"handler-5",x:t,y:.5*n},d)),r.createElement("image",a({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-6",x:.5*t,y:n},d)),r.createElement("image",a({style:{cursor:"ew-resize"},className:"canvas-handler",id:"handler-7",x:0,y:.5*n},d)))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.Component);const m=(0,o.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),null)(h);var y=function(e,t){return"M"+e.x+","+e.y+" h"+e.width+" v"+e.height+" h-"+e.width+" zM"+t.x+","+t.y+" v"+t.height+" h"+t.width+" v-"+t.height+" z"}},5355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(7294),o=n(6113),i=n(4791),a=n(5805),l=n(9361);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,o,i,a=(o=m,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),h(f(t=a.call(this,e)),"setMiniRegion",(function(){var e=t.props.zoomRatio,n=Math.round((t.handlerY-l.CIRCLE_RADIUS)/e),r=Math.round(t.handlerHeight/e);t.props.setMiniHeights({top:n,bottom:t.props.imgHeight-(n+r)})})),h(f(t),"noGhosting",(function(e){return e.preventDefault()})),h(f(t),"componentDidMount",(function(){t.setMiniRegion();for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].addEventListener("mousedown",t.noGhosting)})),h(f(t),"componentWillUnmount",(function(){for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].removeEventListener("mousedown",t.noGhosting)})),h(f(t),"componentDidUpdate",(function(e){var n=t.props.zoomRatio/e.zoomRatio;t.handlerX=Math.round((t.handlerX-l.CIRCLE_RADIUS)*n+l.CIRCLE_RADIUS),t.handlerY=Math.round((t.handlerY-l.CIRCLE_RADIUS)*n+l.CIRCLE_RADIUS),t.handlerWidth=Math.round(t.handlerWidth*n),t.handlerHeight=Math.round(t.handlerHeight*n),t.canvasWidth=Math.round(t.canvasWidth*n),t.canvasHeight=Math.round(t.canvasHeight*n),t.setPosition(),t.setMiniRegion()})),h(f(t),"setPosition",(function(){for(var e=t.handlerX-l.CIRCLE_RADIUS,n=t.handlerY-l.CIRCLE_RADIUS,r=t.handlerWidth,o=[[e+.5*r,n],[e+.5*r,n+t.handlerHeight]],i=t.svg.getElementsByTagName("image"),a=0;a<i.length;a++)i[a].setAttribute("x",o[a][0]),i[a].setAttribute("y",o[a][1]);var c=t.svg.getElementsByTagName("path")[0],s=b({x:t.handlerX,y:t.handlerY,width:t.handlerWidth,height:t.handlerHeight});c.setAttribute("d",s)})),h(f(t),"onMouseDown",(function(e){e.target.classList.contains("canvas-handler")&&(t.handlerMovingX=e.clientX,t.handlerMovingY=e.clientY,t.setState({selectedHandler:e.target.id}))})),h(f(t),"onMouseUp",(function(e){t.state.selectedHandler&&(t.setState({selectedHandler:""}),t.setMiniRegion())})),h(f(t),"onMouseLeave",(function(e){""!==t.state.selectedHandler&&t.setState({selectedHandler:""})})),h(f(t),"onMouseMove",(function(e){if(t.state.selectedHandler){var n=e.clientX,r=e.clientY,o=r-t.handlerMovingY,i=t.handlerX,a=t.handlerY,c=t.handlerWidth,s=t.handlerHeight;switch(parseInt(t.state.selectedHandler.split("-")[1])){case 4:t.handlerY+=o,t.handlerHeight-=o;break;case 6:t.handlerHeight+=o}if(t.handlerX-l.CIRCLE_RADIUS+t.handlerWidth>t.canvasWidth||t.handlerX-l.CIRCLE_RADIUS<0||t.handlerY-l.CIRCLE_RADIUS+t.handlerHeight>t.canvasHeight||t.handlerY-l.CIRCLE_RADIUS<0||t.handlerWidth<l.MIN_HANDLER_RECT_WIDTH||t.handlerHeight<l.MIN_HANDLER_RECT_HEIGHT)return t.handlerX=i,t.handlerY=a,t.handlerWidth=c,void(t.handlerHeight=s);t.handlerMovingX=n,t.handlerMovingY=r,t.setPosition()}})),h(f(t),"onHandlerDown",(function(e){return e.preventDefault()})),t.state={selectedHandler:""},t.canvas=document.getElementById("canvas"),t.canvasWidth=Math.round(e.imgWidth*e.zoomRatio),t.canvasHeight=Math.round(e.imgHeight*e.zoomRatio),t.svg=null,t.handlerWidth=t.canvasWidth,t.handlerHeight=t.canvasHeight/3,t.handlerX=l.CIRCLE_RADIUS,t.handlerY=l.CIRCLE_RADIUS+t.canvasHeight/3,t.handlerMovingX=0,t.handlerMovingY=0,t}return t=m,(n=[{key:"render",value:function(){var e=this,t=this.canvas.style.left,n=this.canvas.style.top,o={position:"absolute",left:parseInt(t)-l.CIRCLE_RADIUS+20+"px",top:parseInt(n)-l.CIRCLE_RADIUS+20+"px",width:this.canvasWidth+2*l.CIRCLE_RADIUS,height:this.canvasHeight+2*l.CIRCLE_RADIUS},i=b({x:this.handlerX,y:this.handlerY,width:this.handlerWidth,height:this.handlerHeight}),a=r.createElement("path",{d:i,fill:"none",stroke:"#ccc",strokeWidth:2,strokeDasharray:"5,5"}),c=this.handlerX-l.CIRCLE_RADIUS,u=this.handlerY-l.CIRCLE_RADIUS;return r.createElement("svg",{id:"canvas-handler",ref:function(t){return e.svg=t},style:o,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},a,r.createElement("image",s({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-4",x:c+.5*this.handlerWidth,y:u},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-6",x:c+.5*this.handlerWidth,y:u+this.handlerHeight},l.HANDLER_COMMON_PROPS)))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.Component);const g=(0,o.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,i.DE)({setMiniHeights:a.fM},e)}))(y);var b=function(e){return"M"+e.x+","+e.y+" v"+e.height+" h"+e.width+" v-"+e.height+" z"}},101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(7294),o=n(6113),i=n(4791),a=n(5805),l=n(9361);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,o,i,a=(o=m,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),h(f(t=a.call(this,e)),"setPixelateRegion",(function(){var e=t.props.zoomRatio,n=Math.round((t.handlerX-l.CIRCLE_RADIUS)/e),r=Math.round((t.handlerY-l.CIRCLE_RADIUS)/e),o=Math.round(t.handlerWidth/e),i=Math.round(t.handlerHeight/e);t.props.setPixelateHandlersPosition({x:n,y:r,width:o,height:i})})),h(f(t),"noGhosting",(function(e){return e.preventDefault()})),h(f(t),"componentDidMount",(function(){t.setPixelateRegion();for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].addEventListener("mousedown",t.noGhosting)})),h(f(t),"componentWillUnmount",(function(){for(var e=t.svg.getElementsByTagName("image"),n=0;n<e.length;n++)e[n].removeEventListener("mousedown",t.noGhosting)})),h(f(t),"componentDidUpdate",(function(e){var n=t.props.zoomRatio/e.zoomRatio;t.handlerX=Math.round((t.handlerX-l.CIRCLE_RADIUS)*n+l.CIRCLE_RADIUS),t.handlerY=Math.round((t.handlerY-l.CIRCLE_RADIUS)*n+l.CIRCLE_RADIUS),t.handlerWidth=Math.round(t.handlerWidth*n),t.handlerHeight=Math.round(t.handlerHeight*n),t.canvasWidth=Math.round(t.canvasWidth*n),t.canvasHeight=Math.round(t.canvasHeight*n),t.setPosition(),t.setPixelateRegion()})),h(f(t),"setPosition",(function(){for(var e=t.handlerX-l.CIRCLE_RADIUS,n=t.handlerY-l.CIRCLE_RADIUS,r=t.handlerWidth,o=t.handlerHeight,i=[[e,n],[e+r,n],[e+r,n+o],[e,n+o],[e+.5*r,n],[e+r,n+.5*o],[e+.5*r,n+o],[e,n+.5*o]],a=t.svg.getElementsByTagName("image"),c=0;c<a.length;c++)a[c].setAttribute("x",i[c][0]),a[c].setAttribute("y",i[c][1]);var s=t.svg.getElementsByTagName("path")[0],u=b({x:l.CIRCLE_RADIUS,y:l.CIRCLE_RADIUS,width:t.canvasWidth,height:t.canvasHeight},{x:t.handlerX,y:t.handlerY,width:t.handlerWidth,height:t.handlerHeight});s.setAttribute("d",u);var p=t.svg.getElementsByTagName("rect")[0];p.setAttribute("x",t.handlerX+l.CIRCLE_RADIUS),p.setAttribute("y",t.handlerY+l.CIRCLE_RADIUS),p.setAttribute("width",t.handlerWidth-2*l.CIRCLE_RADIUS),p.setAttribute("height",t.handlerHeight-2*l.CIRCLE_RADIUS)})),h(f(t),"onMouseDown",(function(e){e.target.classList.contains("canvas-handler")&&("handler-8"===e.target.id&&(e.target.style.cursor="grabbing"),t.handlerMovingX=e.clientX,t.handlerMovingY=e.clientY,t.setState({selectedHandler:e.target.id}))})),h(f(t),"onMouseUp",(function(e){t.state.selectedHandler&&("handler-8"===t.state.selectedHandler&&(e.target.style.cursor="grab"),t.setState({selectedHandler:""}),t.setPixelateRegion())})),h(f(t),"onMouseLeave",(function(e){t.svg.getElementsByTagName("rect")[0].style.cursor="grab",""!==t.state.selectedHandler&&t.setState({selectedHandler:""})})),h(f(t),"onMouseMove",(function(e){if(t.state.selectedHandler){var n=e.clientX,r=e.clientY,o=n-t.handlerMovingX,i=r-t.handlerMovingY,a=t.handlerX,c=t.handlerY,s=t.handlerWidth,u=t.handlerHeight;switch(parseInt(t.state.selectedHandler.split("-")[1])){case 0:t.handlerX+=o,t.handlerY+=i,t.handlerWidth-=o,t.handlerHeight-=i;break;case 1:t.handlerY+=i,t.handlerWidth+=o,t.handlerHeight-=i;break;case 2:t.handlerWidth+=o,t.handlerHeight+=i;break;case 3:t.handlerX+=o,t.handlerWidth-=o,t.handlerHeight+=i;break;case 4:t.handlerY+=i,t.handlerHeight-=i;break;case 5:t.handlerWidth+=o;break;case 6:t.handlerHeight+=i;break;case 7:t.handlerX+=o,t.handlerWidth-=o;break;case 8:t.handlerX+=o,t.handlerY+=i}if(t.handlerX-l.CIRCLE_RADIUS+t.handlerWidth>t.canvasWidth||t.handlerX-l.CIRCLE_RADIUS<0||t.handlerY-l.CIRCLE_RADIUS+t.handlerHeight>t.canvasHeight||t.handlerY-l.CIRCLE_RADIUS<0||t.handlerWidth<l.MIN_HANDLER_RECT_WIDTH||t.handlerHeight<l.MIN_HANDLER_RECT_HEIGHT)return t.handlerX=a,t.handlerY=c,t.handlerWidth=s,void(t.handlerHeight=u);t.handlerMovingX=n,t.handlerMovingY=r,t.setPosition()}})),t.state={selectedHandler:""},t.canvas=document.getElementById("canvas"),t.canvasWidth=Math.round(e.imgWidth*e.zoomRatio),t.canvasHeight=Math.round(e.imgHeight*e.zoomRatio),t.svg=null,t.handlerWidth=Math.min(t.canvasWidth,l.DEF_HANDLER_RECT_WIDTH),t.handlerHeight=Math.min(t.canvasHeight,l.DEF_HANDLER_RECT_HEIGHT),t.handlerX=l.CIRCLE_RADIUS+(t.canvasWidth-l.DEF_HANDLER_RECT_WIDTH)/2,t.handlerY=l.CIRCLE_RADIUS+(t.canvasHeight-l.DEF_HANDLER_RECT_HEIGHT)/2,t.handlerMovingX=0,t.handlerMovingY=0,t}return t=m,(n=[{key:"render",value:function(){var e=this,t=this.canvas.style.left,n=this.canvas.style.top,o={position:"absolute",left:parseInt(t)-l.CIRCLE_RADIUS+20+"px",top:parseInt(n)-l.CIRCLE_RADIUS+20+"px",width:this.canvasWidth+2*l.CIRCLE_RADIUS,height:this.canvasHeight+2*l.CIRCLE_RADIUS},i=b({x:l.CIRCLE_RADIUS,y:l.CIRCLE_RADIUS,width:this.canvasWidth,height:this.canvasHeight},{x:this.handlerX,y:this.handlerY,width:this.handlerWidth,height:this.handlerHeight}),a=r.createElement("path",{d:i,fill:"#000",fillOpacity:.5,strokeWidth:1}),c=this.handlerX-l.CIRCLE_RADIUS,u=this.handlerY-l.CIRCLE_RADIUS;return r.createElement("svg",{id:"canvas-handler",ref:function(t){return e.svg=t},style:o,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},a,r.createElement("image",s({style:{cursor:"nwse-resize"},className:"canvas-handler",id:"handler-0",x:c,y:u},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"nesw-resize"},className:"canvas-handler",id:"handler-1",x:c+this.handlerWidth,y:u},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"nwse-resize"},className:"canvas-handler",id:"handler-2",x:c+this.handlerWidth,y:u+this.handlerHeight},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"nesw-resize"},className:"canvas-handler",id:"handler-3",x:c,y:u+this.handlerHeight},l.HANDLER_COMMON_PROPS)),r.createElement("rect",{x:c+2*l.CIRCLE_RADIUS,y:u+2*l.CIRCLE_RADIUS,width:this.handlerWidth-2*l.CIRCLE_RADIUS,height:this.handlerHeight-2*l.CIRCLE_RADIUS,className:"canvas-handler",id:"handler-8",fillOpacity:0,cursor:"grab"}),r.createElement("image",s({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-4",x:c+.5*this.handlerWidth,y:u},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"ew-resize"},className:"canvas-handler",id:"handler-5",x:c+this.handlerWidth,y:u+.5*this.handlerHeight},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"ns-resize"},className:"canvas-handler",id:"handler-6",x:c+.5*this.handlerWidth,y:u+this.handlerHeight},l.HANDLER_COMMON_PROPS)),r.createElement("image",s({style:{cursor:"ew-resize"},className:"canvas-handler",id:"handler-7",x:c,y:u+.5*this.handlerHeight},l.HANDLER_COMMON_PROPS)))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(r.Component);const g=(0,o.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,i.DE)({setPixelateHandlersPosition:a.vF},e)}))(y);var b=function(e,t){return"M"+e.x+","+e.y+" h"+e.width+" v"+e.height+" h-"+e.width+" zM"+t.x+","+t.y+" v"+t.height+" h"+t.width+" v-"+t.height+" z"}},6020:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>j});var o=n(6456),i=n(7294),a=n(4791),l=n(5805),c=n(6113),s=n(3350),u=n(101),p=n(5355),f=e([o]);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function x(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=_(e,"string");return"symbol"===h(t)?t:String(t)}function _(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(f.then?(await f)():f)[0];var d=function(e){g(c,e);var t,n,r,a,l=(t=c,n=E(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v(this,e)});function c(e){var t;return m(this,c),x(w(t=l.call(this,e)),"componentDidUpdate",(function(e){0!==t.props.zoomRatio&&t.props.zoomRatio!==e.zoomRatio&&(t.props.resizeCanvas(!1),t.ctx.drawImage(o.Z.imgBuff,0,0))})),x(w(t),"componentDidMount",(function(){t.ctx=t.canvas.getContext("2d"),t.props.loadImage()})),t.canvas=null,t.ctx=null,t.state={},t}return r=c,(a=[{key:"render",value:function(){var e=this;return i.createElement("div",{className:"scrollbar",id:"canvas-container",style:{width:this.props.containerWidth,position:"absolute",bottom:"44px",top:0,backgroundColor:"#1e2025"}},i.createElement("canvas",{id:"canvas",ref:function(t){return e.canvas=t},style:{position:"absolute",margin:"20px"}}),this.props.cropHandlersVisible?i.createElement(s.Z,{zoomRatio:this.props.zoomRatio}):null,this.props.pixelateHandlersVisible?i.createElement(u.Z,{zoomRatio:this.props.zoomRatio}):null,this.props.miniHandlersVisible?i.createElement(p.Z,{zoomRatio:this.props.zoomRatio}):null)}}])&&y(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),c}(i.Component);const j=(0,c.$j)((function(e){return{zoomRatio:e.imgStat.get("zoomRatio"),cropHandlersVisible:e.cropHandlersVisible,pixelateHandlersVisible:e.pixelateHandlers.get("visible"),miniHandlersVisible:e.miniHandlers.get("visible")}}),(function(e){return(0,a.DE)({setZoomRatio:l.g6},e)}))(d);r()}catch(R){r(R)}}))},9308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(7294),o=n(5805),i=n(6113),a=n(4791);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(d,e);var t,n,o,i,a=(o=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(i){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),f(u(t=a.call(this,e)),"onResize",(function(e){return t.props.setZoomRatio(e.target.value)})),f(u(t),"setRatio",(function(e){var n=t.props.zoomRatio;if(!(n>4||n<.2)){var r=e.target.classList;r.contains("zoom-out")?t.props.setZoomRatio(Math.max(n-.2,.2)):r.contains("zoom-in")?t.props.setZoomRatio(Math.min(n+.2,4)):r.contains("fit-to-screen")&&t.props.resizeCanvas(!0)}})),t.state={},t}return t=d,(n=[{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("button",{className:"resize-view-btn fit-to-screen",onClick:this.setRatio},r.createElement("svg",{viewBox:"-4 -4 22 22",width:"22",height:"22",fill:"white",pointerEvents:"none"},r.createElement("path",{fillRule:"evenodd",d:"M11.2 4H6V3h7v7h-1V4.6l-8.3 8.3-.7-.7L11.2 4zM0 0h16v16H0V0zm1 1v14h14V1H1z"}))),r.createElement("button",{className:"resize-view-btn zoom-out",onClick:this.setRatio},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},r.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),r.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),r.createElement("input",{type:"range",id:"view-size-setter",min:"0.2",max:"4",step:"0.2",onChange:this.onResize,value:this.props.zoomRatio}),r.createElement("button",{className:"resize-view-btn zoom-in",onClick:this.setRatio},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},r.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),r.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))),r.createElement("span",{style:{marginLeft:"8px",color:"#FFF"}},Math.round(100*this.props.zoomRatio)+"%"))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Component);const m=(0,i.$j)((function(e){return{zoomRatio:e.imgStat.get("zoomRatio")}}),(function(e){return(0,a.DE)({setZoomRatio:o.g6},e)}))(h);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}const w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(i){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={},t}return t=l,(n=[{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",position:"absolute",bottom:"0px",height:"44px",width:"100%",backgroundColor:"#373842"}},r.createElement(m,{resizeCanvas:this.props.resizeCanvas}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component)},7913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7294);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}const c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,c,s,u=(c=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(s){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).state={},t.span=null,t}return t=p,(n=[{key:"render",value:function(){return r.createElement("div",null,r.createElement("div",null,"login/signup"))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Component)},7193:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});var o=n(7294),i=n(2442),a=n(7771),l=n(3039),c=e([a]);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"===u(o=d(r.key,"string"))?o:String(o)),r)}var o}function d(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}a=(c.then?(await c)():c)[0];var s=function(e){h(u,e);var t,n,r,c,s=(t=u,n=b(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y(this,e)});function u(e){var t;return p(this,u),(t=s.call(this,e)).state={},t}return r=u,(c=[{key:"render",value:function(){return o.createElement("div",{style:{display:"flex",justifyContent:"space-around",width:"280px",alignItems:"center"}},o.createElement(i.Z,{resizeCanvas:this.props.resizeCanvas,loadImage:this.props.loadImage}),o.createElement(a.Z,null),o.createElement(l.Z,{loadImage:this.props.loadImage}))}}])&&f(r.prototype,c),Object.defineProperty(r,"prototype",{writable:!1}),u}(o.Component);r()}catch(w){r(w)}}))},1593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7294);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}const c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,c,s,u=(c=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(s){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).state={},t}return t=p,(n=[{key:"render",value:function(){return r.createElement("div",null,"image editor")}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Component)},2442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(7294);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var p=[{label:"NONE",f:""},{label:"invert",f:"invert(0.8)"},{label:"grayscale",f:"grayscale(1)"},{label:"saturate",f:"saturate(6)"},{label:"sepia",f:"sepia(1)"},{label:"blur",f:"blur(5px)"},{label:"brightness",f:"brightness(5)"},{label:"contrast",f:"contrast(5)"},{label:"hue-rotate-Hulk",f:"hue-rotate(90deg)"},{label:"hue-rotate-Avatar",f:"hue-rotate(180deg)"},{label:"hue-rotate-Thanos",f:"hue-rotate(270deg)"}],f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(v,e);var t,n,u,f,g=(u=v,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(u);if(f){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),s(l(t=g.call(this,e)),"switchView",(function(){var e=t.video.style.zIndex,n=t.canvas.style.zIndex;t.video.style.zIndex=n,t.canvas.style.zIndex=e,t.setState({currentMedia:-1*t.state.currentMedia})})),s(l(t),"takeShot",(function(){var e=t.canvas.getContext("2d"),n=t.state.activeFilterIdx;void 0!==e.filter&&0!==n&&(e.filter=p[n].f),e.drawImage(t.video,0,0),1===t.state.currentMedia&&t.toggleFlashCls(),t.switchView()})),s(l(t),"confirmShot",(function(){t.canvas.toBlob((function(e){t.props.loadImage(e),t.closeCamera()}),"image/png")})),s(l(t),"closeCamera",(function(){var e=t.video.srcObject;e&&(e.getTracks().forEach((function(e){return e.stop()})),t.video.srcObject=null),t.props.toggleCameraModal()})),s(l(t),"toggleFlashCls",(function(){var e=t.flash.classList;e.contains("flash")?e.remove("flash"):e.add("flash")})),s(l(t),"componentDidMount",(function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(navigator.mediaDevices.getUserMedia(t.constraints).then((function(e){t.video.srcObject=e,t.video.onloadedmetadata=function(){t.setState({videoDimension:{width:t.video.videoWidth,height:t.video.videoHeight},currentMedia:1,error:!1})}})).catch((function(e){console.error("error acquiring video stream: ",e),t.setState({error:!0})})),t.flash.addEventListener("animationend",t.toggleFlashCls),document.addEventListener("click",t.toggleFilterList)):t.setState({error:!0})})),s(l(t),"componentWillUnmount",(function(){t.flash.removeEventListener("animationend",t.toggleFlashCls),document.removeEventListener("click",t.toggleFilterList)})),s(l(t),"onClick",(function(e){var n=e.target.id;t.op[n]()})),s(l(t),"selectFilter",(function(e){t.setState({activeFilterIdx:parseInt(e.target.dataset.filterIdx)})})),s(l(t),"toggleFilterList",(function(e){var n=e.target.closest("#video-filter-wrapper");!n&&t.state.showFilterList?t.setState({showFilterList:!1}):n&&t.setState({showFilterList:!t.state.showFilterList})})),t.state={currentMedia:0,videoDimension:{width:800,height:600},error:!1,showFilterList:!1,activeFilterIdx:0},t.flash=null,t.video=null,t.canvas=null,t.constraints={video:{width:{min:640,ideal:800},height:{min:480,ideal:600},aspectRatio:{ideal:1.7777777778}},audio:!1},t.op={"btn-remove-shot":t.switchView,"btn-take-shot":t.takeShot,"btn-confirm-shot":t.confirmShot,"btn-close-camera":t.closeCamera},t}return t=v,(n=[{key:"render",value:function(){var e=this,t=this.state.videoDimension.width,n=this.state.videoDimension.height,o=0===this.state.currentMedia?"hidden":"visible";return r.createElement("div",{id:"modal-camera"},r.createElement("div",{id:"selfie-wrapper",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},r.createElement("div",{style:{position:"absolute",width:t+"px",height:n+"px"}},r.createElement("div",{style:{position:"relative",height:"34px",top:"6px",width:"100%",zIndex:20}},r.createElement(m,{onClick:this.onClick})),r.createElement("div",{ref:function(t){return e.flash=t},id:"flash",style:{width:t+"px",height:n+"px"}}),this.state.error?r.createElement("div",{style:{width:t+"px",height:n+"px",position:"absolute",top:0,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF"}},r.createElement(b,null)):null,r.createElement("video",{ref:function(t){return e.video=t},style:{filter:p[this.state.activeFilterIdx].f,zIndex:15,position:"absolute",top:0},autoPlay:!0}),r.createElement("canvas",{id:"camera-canvas",width:t+"px",height:n+"px",ref:function(t){return e.canvas=t},style:{zIndex:10,position:"absolute",top:0}}),r.createElement("div",{style:{visibility:o,position:"absolute",height:"48px",width:"50%",left:t/4+"px",bottom:"0",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:"20"}},r.createElement(y,{selectFilter:this.selectFilter,currentMedia:this.state.currentMedia,activeFilterIdx:this.state.activeFilterIdx,showFilterList:this.state.showFilterList,toggleFilterList:this.toggleFilterList}),r.createElement(d,{onClick:this.onClick,currentMedia:this.state.currentMedia}),r.createElement(h,{onClick:this.onClick,currentMedia:this.state.currentMedia})))))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),v}(r.Component),d=function(e){var t=e.currentMedia,n=0===t,o="camera-action "+(n?"disabled":"");return r.createElement("button",{id:"btn-take-shot",className:o,onClick:e.onClick,disabled:n},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35.05",height:"35.05",pointerEvents:"none"},r.createElement("circle",{cx:"17.52",cy:"17.52",r:"17.02",fill:1===t?"red":"#387dcd",stroke:"none",strokeMiterlimit:"10"}),r.createElement("path",{fill:"#fff",stroke:"none",strokeMiterlimit:"10",d:"M17.54 14.96a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm8-3h-2.39a.9.9 0 0 1-.79-.57l-.62-1.86a.89.89 0 0 0-.79-.57h-6.81a.88.88 0 0 0-.79.57l-.62 1.86a.91.91 0 0 1-.8.57h-2.4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-9a2 2 0 0 0-1.97-2zm-8 11a5 5 0 1 1 5-5 5 5 0 0 1-5 5zm7.31-7.62a.7.7 0 1 1 0-1.4.7.7 0 1 1 0 1.4z"})))},h=function(e){var t=-1!==e.currentMedia,n="camera-action "+(t?"disabled":"");return r.createElement("button",{id:"btn-confirm-shot",className:n,onClick:e.onClick,disabled:t},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",pointerEvents:"none"},r.createElement("path",{fill:"#387dcd",d:"M18 0a18 18 0 1 0 18 18A18 18 0 0 0 18 0zm10 12L17 24.46a1.36 1.36 0 0 1-1 .46 1.39 1.39 0 0 1-.86-.3l-7.01-5.54a1.38 1.38 0 0 1 1.73-2.16l5.9 4.72L26 10.16A1.38 1.38 0 1 1 28 12z"})))},m=function(e){return r.createElement("button",{id:"btn-close-camera",className:"camera-action",style:{float:"right"},onClick:e.onClick},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.7",height:"30.7",pointerEvents:"none"},r.createElement("path",{fill:"#387dcd",d:"M26.21 4.49a15.36 15.36 0 1 0 0 21.72 15.37 15.37 0 0 0 0-21.72zm-4.8 16.92a1.18 1.18 0 0 1-1.67 0L15.35 17l-4.59 4.6A1.18 1.18 0 0 1 9.09 20l4.59-4.6L9.3 11A1.202 1.202 0 0 1 11 9.3l4.38 4.38 4.15-4.18a1.18 1.18 0 1 1 1.67 1.67L17 15.35l4.39 4.39a1.18 1.18 0 0 1 .02 1.67z"})))},y=function(e){var t=1!==e.currentMedia,n="camera-action "+(t?"disabled":"");return r.createElement("div",{id:"video-filter-wrapper"},r.createElement("button",{className:n,disabled:t},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"37.56",height:"37.56",pointerEvents:"none"},r.createElement("circle",{cx:"18.78",cy:"18.78",r:"18.28",stroke:"none",fill:"#387DCD"}),r.createElement("path",{fill:"#FFF",stroke:"none",d:"M11.51 16.7l.54 1.46a.14.14 0 0 0 .26 0l.54-1.46a4.31 4.31 0 0 1 2.55-2.55l1.47-.54a.15.15 0 0 0 .09-.13.16.16 0 0 0-.09-.14l-1.47-.54a4.31 4.31 0 0 1-2.55-2.55l-.54-1.46a.14.14 0 0 0-.26 0l-.54 1.46a4.3 4.3 0 0 1-2.56 2.55l-1.46.54a.16.16 0 0 0-.09.14.15.15 0 0 0 .09.13l1.46.54a4.3 4.3 0 0 1 2.56 2.55zM23.37 22.88l-1.47-.54a4.33 4.33 0 0 1-2.55-2.56l-.54-1.46a.14.14 0 0 0-.26 0l-.54 1.46a4.33 4.33 0 0 1-2.55 2.56l-1.47.54a.14.14 0 0 0 0 .26l1.47.54a4.34 4.34 0 0 1 2.55 2.55l.57 1.47a.14.14 0 0 0 .26 0l.54-1.47a4.34 4.34 0 0 1 2.55-2.55l1.47-.54a.14.14 0 0 0 0-.26zM30.94 16.62l-1-.36a2.94 2.94 0 0 1-1.73-1.74l-.37-1a.1.1 0 0 0-.09-.07.11.11 0 0 0-.09.07l-.36 1a3 3 0 0 1-1.74 1.74l-1 .36a.11.11 0 0 0-.07.09.1.1 0 0 0 .07.09l1 .37a2.94 2.94 0 0 1 1.74 1.73l.36 1a.11.11 0 0 0 .09.06.1.1 0 0 0 .09-.06l.37-1a2.9 2.9 0 0 1 1.73-1.73l1-.37a.1.1 0 0 0 .06-.09.11.11 0 0 0-.06-.09zM28.58 29.71l-.69-.26a2 2 0 0 1-1.21-1.21l-.26-.69a.06.06 0 0 0-.06-.05.06.06 0 0 0-.06.05l-.26.69a2.06 2.06 0 0 1-1.26 1.26l-.69.26a.06.06 0 0 0 0 .12l.69.26a2 2 0 0 1 1.21 1.21l.26.69a.06.06 0 0 0 .06 0 .06.06 0 0 0 .06 0l.26-.69a2 2 0 0 1 1.21-1.21l.69-.26a.07.07 0 0 0 0-.12zM23.42 9.77l-.7-.25a2.06 2.06 0 0 1-1.21-1.21l-.25-.7a.08.08 0 0 0-.07 0 .08.08 0 0 0-.06 0l-.25.7a2.05 2.05 0 0 1-1.22 1.19l-.69.25a.08.08 0 0 0 0 .06.08.08 0 0 0 0 .07l.69.25a2.05 2.05 0 0 1 1.22 1.21l.25.7a.08.08 0 0 0 .06 0 .08.08 0 0 0 .07 0l.25-.7a2.06 2.06 0 0 1 1.21-1.21l.7-.25a.08.08 0 0 0 0-.06.08.08 0 0 0 0-.05zM14.91 28.28l-.87-.32a2.57 2.57 0 0 1-1.52-1.52l-.33-.87a.07.07 0 0 0-.07-.06.08.08 0 0 0-.08.06l-.32.87a2.58 2.58 0 0 1-1.53 1.52l-.87.32a.09.09 0 0 0 0 .08.08.08 0 0 0 0 .08l.87.32a2.58 2.58 0 0 1 1.53 1.52l.32.88a.08.08 0 0 0 .08.05.08.08 0 0 0 .07-.05l.33-.88a2.57 2.57 0 0 1 1.52-1.52l.87-.32a.09.09 0 0 0 .06-.08.1.1 0 0 0-.06-.08z"}))),e.showFilterList?r.createElement(g,{selectFilter:e.selectFilter,activeFilterIdx:e.activeFilterIdx}):null)},g=function(e){return r.createElement("ul",{onClick:e.selectFilter,className:"dropdown-menu video-filter-list",style:{bottom:"32px",width:"168px",top:"unset",left:"unset"}},p.map((function(t,n){return r.createElement("li",{key:n,"data-filter-idx":n,className:"clickable "+(n===e.activeFilterIdx?"active":"")},r.createElement("span",{"data-filter-idx":n},t.label))})))},b=function(){return r.createElement("div",null,r.createElement("h1",null,"Possible reasons for this error"),r.createElement("ul",null,r.createElement("li",null,"Your browser is too old, please use latest version of"," ",r.createElement("a",{target:"_blank",href:"https://www.google.com/chrome/"},"Chrome"),"or"," ",r.createElement("a",{target:"_blank",href:"https://www.mozilla.org/en-US/firefox/new/"},"Firefox"),"."),r.createElement("li",null,"You don't have any cameras plugged in."),r.createElement("li",null,"You need to grant permission to use your camera, like the following screenshot shows:")),r.createElement("img",{src:"".concat("","/img/permissionDialog.jpg")}))};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}var j={height:"36px",display:"flex",alignItems:"center",position:"relative"},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(o);if(i){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),S(O(t=a.call(this,e)),"toggleDropdown",(function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})})),S(O(t),"hideDropdown",(function(){return t.setState({dropdownVisible:!1})})),S(O(t),"componentDidMount",(function(){document.addEventListener("click",(function(e){!e.target.closest(".img-file-handler-btn-wrapper")&&t.state.dropdownVisible&&t.hideDropdown(),e.target.classList.contains("test-image")&&(t.props.loadImage(e.target.id),t.hideDropdown())}))})),S(O(t),"onFileClick",(function(e){return e.target.value=null})),S(O(t),"onFileChange",(function(e){t.setState({dropdownVisible:!1});var n=e.target.files[0];t.props.loadImage(n)})),S(O(t),"toggleCameraModal",(function(){return t.setState({openCamera:!t.state.openCamera,dropdownVisible:!1})})),S(O(t),"onGoToURL",(function(e){e.target.parentElement.querySelector("#img-url").value})),S(O(t),"onKeyEnter",(function(e){"Enter"===e.key&&t.onGoToURL(e)})),t.state={dropdownVisible:!1,openCamera:!1},t}return t=l,(n=[{key:"render",value:function(){return r.createElement("div",{style:j,className:"img-file-handler-btn-wrapper"},r.createElement("div",null,r.createElement("button",{onClick:this.toggleDropdown,className:"img-file-handler-btn"},"Open"),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",className:"svg-down-arrow"},r.createElement("path",{fill:"#CCC",d:"M7.19 7.54L0 .34.34 0l6.85 6.85L14.04 0l.34.34-7.19 7.2z"}))),this.state.dropdownVisible?r.createElement("ul",{className:"dropdown-menu"},r.createElement("li",null,r.createElement("label",{className:"clickable"},"Computer",r.createElement("input",{type:"file",accept:"image/jpeg, image/png",onChange:this.onFileChange,onClick:this.onFileClick,style:{display:"none"}}))),r.createElement("li",{className:"clickable",onClick:this.toggleCameraModal},"Camera"),r.createElement("li",{className:"test-image clickable",id:"".concat("","/img/wonder-woman.jpg")},"wonder-woman"),r.createElement("li",{className:"test-image clickable",id:"".concat("","/img/endgame.jpg")},"Avengers: endgame"),r.createElement("li",{className:"test-image clickable",id:"".concat("","/img/TrueBlood.jpg")},"True Blood (temperature adjust)"),r.createElement("li",{className:"test-image clickable",id:"".concat("","/img/kitty.jpg")},"Kitty (Low contrast - too bright)"),r.createElement("li",{className:"test-image clickable",id:"".concat("","/img/forest.jpg")},"Forest (low contrast - too dark)")):null,this.state.openCamera?r.createElement(f,{loadImage:this.props.loadImage,toggleCameraModal:this.toggleCameraModal}):null)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component)},3039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7294);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var u={height:"36px",display:"flex",alignItems:"center",position:"relative"},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(h,e);var t,n,p,f,d=(p=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(p);if(f){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function h(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=l(t=d.call(this,e)),o=function(){return t.props.loadImage()},(r=s(r="restore"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={},t}return t=h,(n=[{key:"render",value:function(){return r.createElement("div",{style:u},r.createElement("button",{onClick:this.restore,className:"img-file-handler-btn"},"Restore"))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Component)},7771:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>u});var o=n(7294),i=n(6456),a=n(4384),l=e([i,a]);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e){var t=E(e,"string");return"symbol"===p(t)?t:String(t)}function E(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[i,a]=l.then?(await l)():l;var c=i.Z.get_wasm_img(),s={height:"36px",display:"flex",alignItems:"center",position:"relative"},u=function(e){h(u,e);var t,n,r,i,l=(t=u,n=b(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y(this,e)});function u(e){var t,n,r,o;return f(this,u),n=g(t=l.call(this,e)),o=function(){var e=document.createElement("canvas"),t=c.width(),n=c.height();e.width=t,e.height=n;var r=c.pixels(),o=new Uint8Array(a.memory.buffer,r,t*n*4);createImageBitmap(new ImageData(new Uint8ClampedArray(o),t,n)).then((function(t){e.getContext("2d").drawImage(t,0,0),e.toBlob((function(e){var t=document.createElement("a");t.download="download.png",t.href=URL.createObjectURL(e),t.click()}),"image/png")}))},(r=w(r="onSave"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={},t}return r=u,(i=[{key:"render",value:function(){return o.createElement("div",{style:s},o.createElement("button",{className:"img-file-handler-btn",onClick:this.onSave},"Save"))}}])&&d(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),u}(o.Component);r()}catch(O){r(O)}}))},242:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>v});var o=n(7294),i=n(1593),a=n(7193),l=n(7913),c=e([a]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"===s(o=f(r.key,"string"))?o:String(o)),r)}var o}function f(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}a=(c.then?(await c)():c)[0];const v=function(e){d(f,e);var t,n,r,c,s=(t=f,n=g(),function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function f(e){var t;return u(this,f),(t=s.call(this,e)).state={},t}return r=f,(c=[{key:"render",value:function(){return o.createElement("div",{style:{width:"100%",height:"56px",display:"flex",zIndex:"100",position:"relative",justifyContent:"space-between",backgroundColor:"#373842",boxShadow:"0 0 0.5rem rgba(0,0,0,.8)"}},o.createElement(i.Z,null),o.createElement(a.Z,{resizeCanvas:this.props.resizeCanvas,loadImage:this.props.loadImage}),o.createElement(l.Z,null))}}])&&p(r.prototype,c),Object.defineProperty(r,"prototype",{writable:!1}),f}(o.Component);r()}catch(w){r(w)}}))},9116:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>C});var o=n(6456),i=n(7294),a=n(242),l=n(187),c=n(9308),s=n(6020),u=n(6113),p=n(4791),f=n(5805),d=n(9361),h=e([o,a,l,s]);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function _(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=R(e,"string");return"symbol"===y(t)?t:String(t)}function R(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[o,a,l,s]=h.then?(await h)():h;var m=function(e){v(f,e);var t,n,r,u,p=(t=f,n=x(),function(){var e,r=S(t);if(n){var o=S(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return E(this,e)});function f(e){var t;return g(this,f),_(O(t=p.call(this,e)),"onSelectTool",(function(e){return t.setState({selectedTool:e})})),_(O(t),"resizeCanvas",(function(e){var n=o.Z.get_wasm_img(),r=n.width(),i=n.height(),a=document.getElementById("canvas"),l=document.getElementById("canvas-container"),c=l.offsetWidth,s=l.offsetHeight,u=1;e||(u=t.props.zoomRatio);var p=.9*s,f=.9*c;e&&(u=f>=r&&p>=i?1:Math.min(f/r,p/i)),e&&t.props.setZoomRatio(u);var h=Math.round(r*u),m=Math.round(i*u);a.width===h&&a.height===m||(a.width=h,a.height=m,a.getContext("2d").scale(u,u));var y=Math.round(Math.max(0,c-h)/2),g=Math.round(Math.max(0,s-m)/2);if(a.style.left=y+"px",a.style.top=g+"px",t.props.cropHandlersVisible||t.props.pixelateHandlersVisible||t.props.miniHandlersVisible){var b=document.getElementById("canvas-handler");b.style.left=y-d.CIRCLE_RADIUS+20+"px",b.style.top=g-d.CIRCLE_RADIUS+20+"px",b.style.width=h+2*d.CIRCLE_RADIUS+"px",b.style.height=m+2*d.CIRCLE_RADIUS+"px"}})),_(O(t),"loadImage",(function(e){e||(e=t.imgSrc);var n="url";if(e instanceof Blob){if(!e.type.match("image.*"))return;n="file"}var r=new Image;if("url"===n)r.src=e,r.onload=function(){t.props.setWidthHeight({width:r.naturalWidth,height:r.naturalHeight}),t.drawImage(r),t.imgSrc=e,t.setState({selectedTool:null})};else if("file"===n){var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){r.src=e.target.result},r.onload=function(){t.props.setWidthHeight({width:r.naturalWidth,height:r.naturalHeight}),t.drawImage(r),t.imgSrc=e,t.setState({selectedTool:null})}}})),_(O(t),"drawImage",(function(e){var n=e.naturalWidth,r=e.naturalHeight;o.Z.imgBuff=e;var i=o.Z.get_wasm_img(),a=document.getElementById("canvas");setTimeout((function(){return a.getContext("2d").drawImage(e,0,0)}),0);var l=document.createElement("canvas"),c=l.getContext("2d");l.width=n,l.height=r,c.drawImage(e,0,0);var s=c.getImageData(0,0,n,r);i.reuse(n,r,s.data),t.resizeCanvas(!0)})),t.state={selectedTool:null},t.imgSrc="".concat("","/img/endgame.jpg"),t}return r=f,(u=[{key:"render",value:function(){var e={width:"100%",backgroundColor:"#1e2025"};e.transform=null==this.state.selectedTool?"translate(0px, 0px)":"translate(250px, 0px)";var t=null==this.state.selectedTool?"calc(100vw - 76px)":"calc(100vw - 332px)";return i.createElement("div",null,i.createElement(a.Z,{resizeCanvas:this.resizeCanvas,loadImage:this.loadImage}),i.createElement("div",{style:{display:"flex",position:"relative",zIndex:"50",bottom:"0px",width:"100%"}},i.createElement(l.Z,{onSelectTool:this.onSelectTool,selectedTool:this.state.selectedTool,loadImage:this.loadImage}),i.createElement("div",{style:e,id:"canvas-parent"},i.createElement(s.Z,{resizeCanvas:this.resizeCanvas,loadImage:this.loadImage,containerWidth:t}),i.createElement(c.Z,{resizeCanvas:this.resizeCanvas}))))}}])&&b(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),f}(i.Component);const C=(0,u.$j)((function(e){return{zoomRatio:e.imgStat.get("zoomRatio"),cropHandlersVisible:e.cropHandlersVisible,pixelateHandlersVisible:e.pixelateHandlers.get("visible"),miniHandlersVisible:e.miniHandlers.get("visible")}}),(function(e){return(0,p.DE)({setZoomRatio:f.g6,setWidthHeight:f.zo},e)}))(m);r()}catch(P){r(P)}}))},2608:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>_});var o=n(6456),i=n(4384),a=n(7294),l=n(5114),c=n(5420),s=n(9142),u=n(6439),p=n(9842),f=e([o,l,c,s,u,p,i]);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function x(e){var t=S(e,"string");return"symbol"===h(t)?t:String(t)}function S(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[o,l,c,s,u,p,i]=f.then?(await f)():f;const _=function(e){g(b,e);var t,n,r,f,h=(t=b,n=E(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v(this,e)});function b(e){var t,n,r,a;return m(this,b),n=w(t=h.call(this,e)),a=function(e){var n=o.Z.get_wasm_img(),r=n.width(),a=n.height(),l=n.pixels(),c=new Uint8Array(i.memory.buffer,l,r*a*4);createImageBitmap(new ImageData(new Uint8ClampedArray(c),r,a)).then((function(e){o.Z.imgBuff=e;var n=t.props.zoomRatio,i=document.getElementById("canvas");i.width=Math.round(r*n),i.height=Math.round(a*n);var l=i.getContext("2d");l.scale(n,n),l.drawImage(e,0,0)}))},(r=x(r="redraw"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={},t}return r=b,(f=[{key:"render",value:function(){var e,t;switch(this.props.selectedTool){case"tool-basic":t="BASIC",e=a.createElement(l.Z,{redraw:this.redraw});break;case"tool-color":t="COLOR",e=a.createElement(c.Z,{redraw:this.redraw});break;case"tool-filter":t="FILTER",e=a.createElement(s.Z,{redraw:this.redraw,loadImage:this.props.loadImage});break;case"tool-text":t="TEXT",e=a.createElement(u.Z,{redraw:this.redraw});break;case"tool-transform":t="TRANSFORM",e=a.createElement(p.Z,{redraw:this.redraw});break;default:return null}return a.createElement(d,{close:this.props.close,label:t},e)}}])&&y(r.prototype,f),Object.defineProperty(r,"prototype",{writable:!1}),b}(a.Component);var d=function(e){return a.createElement("div",{style:{padding:"6px 20px",height:"100%"}},a.createElement("div",{style:{marginBottom:"18px",padding:0,display:"flex",alignItems:"center"}},a.createElement("button",{id:"editor-goback-btn",onClick:e.close},a.createElement("svg",{viewBox:"0 0 20 20",width:"100%",height:"100%",fill:"#ccc",pointerEvents:"none"},a.createElement("g",{fillRule:"evenodd"},a.createElement("path",{fillRule:"nonzero",d:"M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm0 1C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"}),a.createElement("path",{d:"M5.448 10.863L5 10.414 8.414 7l.897.897-2.561 2.56 2.69 2.69-.854.853-3.138-3.137z"}),a.createElement("path",{d:"M6 10h9v1H6z"})))),a.createElement("span",{style:{color:"#ccc",fontSize:"18px",marginLeft:"8px"}},e.label)),e.children)};r()}catch(j){r(j)}}))},5114:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>g});var o=n(6456),i=n(7294),a=e([o]);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"===l(o=u(r.key,"string"))?o:String(o)),r)}var o}function u(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}o=(a.then?(await a)():a)[0];const g=function(e){p(l,e);var t,n,r,o,a=(t=l,n=m(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return d(this,e)});function l(e){return c(this,l),a.call(this,e)}return r=l,(o=[{key:"render",value:function(){return i.createElement("div",null,"basic tool")}}])&&s(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(i.Component);r()}catch(b){r(b)}}))},558:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var o=n(6456),i=n(7294),a=n(4373),l=e([o]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=w(e,"string");return"symbol"===s(t)?t:String(t)}function w(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(l.then?(await l)():l)[0];var c=function(e){f(s,e);var t,n,r,l,c=(t=s,n=y(),function(){var e,r=g(t);if(n){var o=g(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)});function s(e){var t;return u(this,s),b(m(t=c.call(this,e)),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),b(m(t),"onChange",(function(e){var n,r=e.target.dataset.valueType,o=e.target.dataset.valueChange,i=t.state[r];"grayscaled"===r||"inverted"===r?n=e.target.checked:"up"===o?n=Math.min(10,i+1):"down"===o?n=Math.max(-10,i-1):"set"===o&&(n=parseInt(e.target.value)),n!==i&&(t.changeApplied=!1,t.setState(b({},r,n),(function(){var e=t.state.hue*t.normalizeFactor.hue,n=t.state.saturation*t.normalizeFactor.saturation,r=t.state.temperature*t.normalizeFactor.temperature,o=t.state.grayscaled,i=t.state.inverted;t.wasm_img.adjust_hsi(e,n,r,o,i),t.props.redraw()})))})),b(m(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.props.onSelectTool("")})),t.wasm_img=o.Z.get_wasm_img(),t.state={inverted:!1,grayscaled:!1,hue:0,saturation:0,temperature:0},t.normalizeFactor={hue:2*Math.PI/20,saturation:.05,temperature:10},t.changeApplied=!0,t}return r=s,(l=[{key:"render",value:function(){var e=this.state.grayscaled;return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Black & White"),i.createElement("div",null,i.createElement("input",{type:"checkbox",id:"toggle-grayscale",className:"toggle-input",style:{display:"none"},checked:this.state.grayscaled,onChange:this.onChange,"data-value-type":"grayscaled","data-value-change":"set"}),i.createElement("label",{htmlFor:"toggle-grayscale",className:"toggle-label"},i.createElement("span",null)))),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Invert"),i.createElement("div",null,i.createElement("input",{type:"checkbox",id:"toggle-invert",className:"toggle-input",style:{display:"none"},checked:this.state.inverted,onChange:this.onChange,"data-value-type":"inverted","data-value-change":"set"}),i.createElement("label",{htmlFor:"toggle-invert",className:"toggle-label"},i.createElement("span",null)))),i.createElement("div",{style:{marginTop:"38px",marginBottom:"18px"}},i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,"Hue"),i.createElement("div",{style:{paddingRight:"8px"}},this.state.hue)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn "+(e?"disabled":""),"data-value-type":"hue","data-value-change":"down",disabled:e,onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",id:"color-hue-setter",className:e?"disabled":"","data-value-type":"hue","data-value-change":"set",min:"-10",max:"10",step:"1",value:this.state.hue,disabled:e,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn "+(e?"disabled":""),"data-value-type":"hue","data-value-change":"up",disabled:e,onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,"Saturation"),i.createElement("div",{style:{paddingRight:"8px"}},this.state.saturation)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn "+(e?"disabled":""),"data-value-type":"saturation","data-value-change":"down",disabled:e,onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",id:"color-saturation-setter",className:e?"disabled":"","data-value-type":"saturation","data-value-change":"set",min:"-10",max:"10",step:"1",value:this.state.saturation,disabled:e,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn "+(e?"disabled":""),"data-value-type":"saturation","data-value-change":"up",disabled:e,onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,"Temperature"),i.createElement("div",{style:{paddingRight:"8px"}},this.state.temperature)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn ","data-value-type":"temperature","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range","data-value-type":"temperature","data-value-change":"set",min:"-10",max:"10",step:"1",value:this.state.temperature,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn","data-value-type":"temperature","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"})))))),i.createElement(a.Z,{onApply:this.onApply}))}}])&&p(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);r()}catch(E){r(E)}}))},5963:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var o=n(6456),i=n(7294),a=n(4373),l=e([o]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=w(e,"string");return"symbol"===s(t)?t:String(t)}function w(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(l.then?(await l)():l)[0];var c=function(e){f(s,e);var t,n,r,l,c=(t=s,n=y(),function(){var e,r=g(t);if(n){var o=g(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)});function s(e){var t;return u(this,s),b(m(t=c.call(this,e)),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),b(m(t),"onChange",(function(e){var n=e.target;if("radio"===n.type){t.changeApplied=!1;var r=n.dataset.adjustMode;if("auto"===r)t.wasm_img.auto_adjust_intensity();else{if("manual"!==r)return;var o=t.state.contrast*t.normalizeFactor.contrast,i=t.state.brightness*t.normalizeFactor.brightness;t.wasm_img.manual_adjust_intensity(o,i)}return t.props.redraw(),void t.setState({contrastAdjustMode:r})}var a,l,c,s,u=n.dataset.valueType,p=n.dataset.valueChange,f=t.state[u];if(n.classList.contains("btn-plus-minus")){var d=n.parentElement.querySelector("input[type=range]");c=parseInt(d.getAttribute("max")),l=parseInt(d.getAttribute("min")),s=parseInt(d.getAttribute("step"))}"up"===p?a=Math.min(c,f+s):"down"===p?a=Math.max(l,f-s):"set"===p&&(a=parseInt(e.target.value)),a!==f&&(t.changeApplied=!1,t.setState(b({},u,a),(function(){var e=t.state.contrast*t.normalizeFactor.contrast,n=t.state.brightness*t.normalizeFactor.brightness;t.wasm_img.manual_adjust_intensity(e,n),t.props.redraw()})))})),b(m(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.props.onSelectTool("")})),t.wasm_img=o.Z.get_wasm_img(),t.state={contrastAdjustMode:"manual",contrast:10,brightness:0},t.normalizeFactor={contrast:.1,brightness:5/255},t.sliderRange={contrast:[1,20,1],brightness:[10,10,1]},t.changeApplied=!0,t}return r=s,(l=[{key:"render",value:function(){var e="auto"===this.state.contrastAdjustMode;return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,"Brightness"),i.createElement("div",{style:{paddingRight:"8px"}},"Brightness value")),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn btn-plus-minus "+(e?"disabled":""),disabled:e,onClick:this.onChange,"data-value-type":"brightness","data-value-change":"down"},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",className:e?"disabled":"",disabled:e,min:"-10",max:"10",step:"1",value:this.state.brightness,"data-value-type":"brightness","data-value-change":"set",onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn btn-plus-minus "+(e?"disabled":""),disabled:e,"data-value-type":"brightness","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement("div",{style:{border:"1px solid #373842",marginBottom:"18px",paddingTop:"8px",paddingBottom:"8px"}},i.createElement("div",{style:{paddingLeft:"8px",marginBottom:"18px"}},"Contrast"),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Auto adjust"),i.createElement("div",null,i.createElement("input",{type:"radio",id:"auto-adjust-contrast",checked:"auto"===this.state.contrastAdjustMode,value:this.state.contrastAdjustMode,name:"color-contrast-adjust",className:"radio-input",style:{display:"none"},onChange:this.onChange,"data-adjust-mode":"auto"}),i.createElement("label",{htmlFor:"auto-adjust-contrast",className:"radio-label"},i.createElement("span",null)))),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Manual adjust"),i.createElement("div",null,i.createElement("input",{type:"radio",id:"manual-adjust-contrast",checked:"manual"===this.state.contrastAdjustMode,value:this.state.contrastAdjustMode,name:"color-contrast-adjust",className:"radio-input",style:{display:"none"},onChange:this.onChange,"data-adjust-mode":"manual"}),i.createElement("label",{htmlFor:"manual-adjust-contrast",className:"radio-label"},i.createElement("span",null)))),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn btn-plus-minus "+(e?"disabled":""),disabled:e,"data-value-type":"contrast","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",className:e?"disabled":"",disabled:e,"data-value-type":"contrast","data-value-change":"set",min:"1",max:"20",step:"1",value:this.state.contrast,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn btn-plus-minus "+(e?"disabled":""),disabled:e,"data-value-type":"contrast","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement(a.Z,{onApply:this.onApply}))}}])&&p(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);r()}catch(E){r(E)}}))},5420:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>O});var o=n(6456),i=n(7294),a=n(558),l=n(5963),c=e([o,a,l]);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=E(e,"string");return"symbol"===u(t)?t:String(t)}function E(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[o,a,l]=c.then?(await c)():c;const O=function(e){d(h,e);var t,n,r,c,u=(t=h,n=g(),function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function h(e){var t;return p(this,h),v(y(t=u.call(this,e)),"onSelectTool",(function(e){var n=e?e.target.id:"";n!==t.state.selectedTool&&t.setState({selectedTool:n})})),v(y(t),"componentDidMount",(function(){return t.wasm_img.rgb_to_hsi()})),v(y(t),"componentWillUnmount",(function(){return t.wasm_img.clear_hsi()})),t.state={selectedTool:""},t.wasm_img=o.Z.get_wasm_img(),t}return r=h,(c=[{key:"render",value:function(){return i.createElement("div",null,i.createElement(s,{onSelect:this.onSelectTool,toolID:"color-basic",selectedTool:this.state.selectedTool,label:"BASIC"},i.createElement(a.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})),i.createElement(s,{onSelect:this.onSelectTool,toolID:"color-exposure",selectedTool:this.state.selectedTool,label:"EXPOSURE"},i.createElement(l.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})))}}])&&f(r.prototype,c),Object.defineProperty(r,"prototype",{writable:!1}),h}(i.Component);var s=function(e){var t=e.selectedTool===e.toolID,n=t?{transform:"rotate(180deg)"}:{transform:"rotate(0deg)"},r=t?{color:"darkorange"}:null;return i.createElement("div",{className:"editor-header-wrapper"},i.createElement("div",{id:e.toolID,className:"editor-header",onClick:e.onSelect},i.createElement("span",{style:r},e.label),i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",className:"svg-down-arrow",style:n},i.createElement("path",{fill:"#CCC",d:"M7.19 7.54L0 .34.34 0l6.85 6.85L14.04 0l.34.34-7.19 7.2z"}))),t?e.children:null)};r()}catch(x){r(x)}}))},4373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){return r.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.createElement("button",{className:"primary-btn apply-btn",onClick:e.onApply},r.createElement("svg",{viewBox:"0 0 20 20",width:"20",height:"20",transform:"scale(0.8, 0.8)",pointerEvents:"none"},r.createElement("path",{fillRule:"evenodd",fill:"#FFF",d:"M18.388 2L20 3.557 6.576 17.458 0 11.108 1.804 9.24l4.964 4.793L18.388 2z"}))))}},4957:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var o=n(6456),i=n(7294),a=n(4373),l=e([o]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=w(e,"string");return"symbol"===s(t)?t:String(t)}function w(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(l.then?(await l)():l)[0];var c=function(e){f(s,e);var t,n,r,l,c=(t=s,n=y(),function(){var e,r=g(t);if(n){var o=g(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)});function s(e){var t;return u(this,s),b(m(t=c.call(this,e)),"componentDidMount",(function(){return setTimeout(t.bf,0)})),b(m(t),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),b(m(t),"bf",(function(){setTimeout((function(){var e=t.state.iter_count,n=!1;t.incr>0&&(e=t.incr,n=!0),t.wasm_img.bilateral_filter(t.state.sigma_domain,t.state.sigma_range,e,n),t.props.redraw(),t.setState({running:!1})}),100)})),b(m(t),"onChange",(function(e){var n,r,o=e.target,i=o.dataset.valueType;switch(o.dataset.valueChange){case"up":r=t.state[i]+1;break;case"down":r=t.state[i]-1;break;case"set":r=parseInt(o.value);break;default:return}if("sigma_domain"===i)r=Math.min(Math.max(r,1),12);else{if("iter_count"!==i)return;r=Math.min(Math.max(r,1),6)}r!==t.state[i]?(t.incr=r-t.state[i],t.setState((b(n={},i,r),b(n,"running",!0),n),t.bf),t.changeApplied=!1):t.incr=0})),b(m(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.props.onSelectTool("")})),b(m(t),"loadImage",(function(e){t.props.onSelectTool(""),t.props.loadImage(e.target.id)})),t.wasm_img=o.Z.get_wasm_img(),t.state={sigma_domain:3,sigma_range:5,iter_count:3,running:!0},t.incr=0,t.changeApplied=!1,t}return r=s,(l=[{key:"render",value:function(){return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{className:"blinking-text",style:{visibility:this.state.running?"visible":"hidden"}},"Running"),i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,i.createElement("div",null,"Iteration Count"),i.createElement("span",{style:{fontSize:"11px"}},"More count, more smooth")),i.createElement("div",{style:{paddingRight:"8px"}},this.state.saturation)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn","data-value-type":"iter_count","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range","data-value-type":"iter_count","data-value-change":"set",min:"1",max:"6",step:"1",value:this.state.iter_count,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn","data-value-type":"iter_count","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,i.createElement("div",null,"Radius"),i.createElement("span",{style:{fontSize:"11px"}},"Big image should have big radius")),i.createElement("div",{style:{paddingRight:"8px"}},this.state.saturation)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn","data-value-type":"sigma_domain","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range","data-value-type":"sigma_domain","data-value-change":"set",min:"1",max:"12",step:"1",value:this.state.sigma_domain,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn","data-value-type":"sigma_domain","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement("p",{style:{fontSize:"12px",marginTop:"18px",color:"#ddd"}},"when the above 2 sliders approach max value(takes long time to finish), this filter will generate cartoonish feel."),i.createElement(a.Z,{onApply:this.onApply}),i.createElement("p",{style:{fontSize:"12px",marginTop:"18px",color:"#ddd"}},"The following 2 celebrity images best represent this filtering result."),i.createElement("ul",{style:{fontSize:"12px",paddingLeft:"12px",color:"#00B7FF"},onClick:this.loadImage},i.createElement("li",{className:"clickable",id:"".concat("","/img/EddieRedmayne.jpg")},"Eddie Redmayne"),i.createElement("li",{className:"clickable",id:"".concat("","/img/EmmaStone.jpg")},"Emma Stone")))}}])&&p(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);r()}catch(E){r(E)}}))},9359:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var o=n(6456),i=n(7294),a=n(4373),l=e([o]);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=w(e,"string");return"symbol"===s(t)?t:String(t)}function w(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(l.then?(await l)():l)[0];var c=function(e){f(s,e);var t,n,r,l,c=(t=s,n=y(),function(){var e,r=g(t);if(n){var o=g(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)});function s(e){var t;return u(this,s),b(m(t=c.call(this,e)),"componentDidMount",(function(){return setTimeout(t.blur,0)})),b(m(t),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),b(m(t),"blur",(function(){setTimeout((function(){t.wasm_img.blur(t.state.radius),t.props.redraw(),t.setState({running:!1})}),100)})),b(m(t),"onChange",(function(e){var n,r=e.target;switch(r.dataset.valueChange){case"up":n=Math.min(t.state.radius+2,11);break;case"down":n=Math.max(t.state.radius-2,1);break;case"set":n=parseInt(r.value);break;default:return}n!==t.state.radius&&(t.setState({radius:n,running:!0},t.blur),t.changeApplied=!1)})),b(m(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.props.onSelectTool("")})),t.wasm_img=o.Z.get_wasm_img(),t.state={radius:5,running:!0},t.changeApplied=!1,t}return r=s,(l=[{key:"render",value:function(){return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{className:"blinking-text",style:{visibility:this.state.running?"visible":"hidden"}},"Running"),i.createElement("div",{style:{marginBottom:"24px"}},i.createElement("div",{style:{paddingLeft:"8px",display:"flex",justifyContent:"space-between",marginBottom:"8px"}},i.createElement("div",null,"Gaussian Blur"),i.createElement("div",{style:{paddingRight:"8px"}},this.state.saturation)),i.createElement("div",{style:{display:"flex",alignItems:"center"}},i.createElement("button",{className:"resize-view-btn","data-value-type":"gaussian-blur","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",id:"color-saturation-setter","data-value-type":"gaussian-blur","data-value-change":"set",min:"1",max:"11",step:"2",value:this.state.radius,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn","data-value-type":"gaussian-blur","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"}))))),i.createElement(a.Z,{onApply:this.onApply}),i.createElement("p",{style:{fontSize:"12px",marginTop:"18px",color:"#ddd"}},"Gaussian blur is mostly used for removing noise, frosted glass effect. This implementation... do I need to mention sth technical here??"))}}])&&p(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);r()}catch(E){r(E)}}))},5820:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>S});var o=n(6456),i=n(7294),a=n(4373),l=n(5805),c=n(4791),s=n(6113),u=e([o]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=x(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(u.then?(await u)():u)[0];var p=function(e){m(s,e);var t,n,r,l,c=(t=s,n=v(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function s(e){var t;return d(this,s),E(b(t=c.call(this,e)),"miniaturize",(function(){t.state.running||t.setState({running:!0}),setTimeout((function(){var e,n,r=t.state.sigma,o=t.heights;switch(e=o.top,n=o.bottom,t.topOrBottom){case"both":t.wasm_img.miniaturize(r,e,!0),t.wasm_img.miniaturize(r,n,!1);break;case"top":t.wasm_img.miniaturize(r,e,!0);break;case"bottom":t.wasm_img.miniaturize(r,n,!1)}t.props.redraw(),t.setState({running:!1})}),100)})),E(b(t),"componentDidMount",(function(){return t.props.showHandler(!0)})),E(b(t),"componentWillUnmount",(function(){t.props.showHandler(!1),t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),E(b(t),"componentDidUpdate",(function(){var e=t.props.heights.get("top"),n=t.props.heights.get("bottom");if(!(e<0||e>t.props.imgHeight||n<0||n>t.props.imgHeight)){if(t.heights.top!==e&&t.heights.bottom!==n)t.topOrBottom="both",t.heights.top=e,t.heights.bottom=n;else if(t.heights.top!==e)t.topOrBottom="top",t.heights.top=e;else{if(t.heights.bottom===n)return;t.topOrBottom="bottom",t.heights.bottom=n}t.miniaturize(),t.changeApplied=!1}})),E(b(t),"onChange",(function(e){var n,r=e.target;switch(r.dataset.valueChange){case"up":n=Math.min(t.state.sigma+2,11);break;case"down":n=Math.max(t.state.sigma-2,3);break;case"set":n=parseInt(r.value);break;default:return}n!==t.state.sigma&&(t.topOrBottom="both",t.setState({sigma:n},t.miniaturize),t.changeApplied=!1)})),E(b(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.props.onSelectTool("")})),E(b(t),"toggleHandlers",(function(e){var n=document.getElementById("canvas-handler");n&&(n.style.visibility=e.target.checked?"visible":"hidden",t.setState({handlerVisible:!t.state.handlerVisible}))})),E(b(t),"loadImage",(function(e){t.props.onSelectTool(""),t.props.loadImage(e.target.id)})),t.wasm_img=o.Z.get_wasm_img(),t.state={handlerVisible:!0,sigma:5,running:!0},t.heights={top:0,bottom:0},t.topOrBottom="both",t.changeApplied=!1,t}return r=s,(l=[{key:"render",value:function(){return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{className:"blinking-text",style:{visibility:this.state.running?"visible":"hidden"}},"Running"),i.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"18px"}},i.createElement("button",{className:"resize-view-btn btn-plus-minus","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range","data-value-change":"set",min:"3",max:"11",step:"2",value:this.state.sigma,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn btn-plus-minus","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"})))),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Show handler"),i.createElement("div",null,i.createElement("input",{type:"checkbox",id:"toggle-mini-handlers",className:"toggle-input",style:{display:"none"},checked:this.state.handlerVisible,onChange:this.toggleHandlers}),i.createElement("label",{htmlFor:"toggle-mini-handlers",className:"toggle-label"},i.createElement("span",null)))),i.createElement(a.Z,{onApply:this.onApply}),i.createElement("p",{style:{fontSize:"12px",marginTop:"18px",color:"#ddd"}},"This filter make subject look like a miniature-scale model. The following 2 images best represent this filtering result."),i.createElement("ul",{style:{fontSize:"12px",paddingLeft:"12px",color:"#00B7FF"},onClick:this.loadImage},i.createElement("li",{className:"clickable",id:"".concat("","/img/stadium.jpg")},"Stadium"),i.createElement("li",{className:"clickable",id:"".concat("","/img/airport.jpg")},"Airport")))}}])&&h(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);const S=(0,s.$j)((function(e){return{heights:e.miniHandlers.get("heights"),imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,c.DE)({showHandler:l.U4},e)}))(p);r()}catch(_){r(_)}}))},3790:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>S});var o=n(6456),i=n(7294),a=n(4373),l=n(4791),c=n(5805),s=n(6113),u=e([o]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=x(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(u.then?(await u)():u)[0];var p=function(e){m(s,e);var t,n,r,l,c=(t=s,n=v(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function s(e){var t;return d(this,s),E(b(t=c.call(this,e)),"pixelate",(function(){t.state.running||t.setState({running:!0}),setTimeout((function(){var e=t.region,n=e.x,r=e.y,o=e.width,i=e.height,a=t.state,l=a.blockSize,c=a.blurType,s=t.props.imgWidth,u=t.props.imgHeight;n=Math.min(Math.max(n,0),s-1),r=Math.min(Math.max(r,0),u-1),n+(o=Math.min(Math.max(o,1),s))>s&&(o-=n+o-s),r+(i=Math.min(Math.max(i,1),u))>u&&(i-=r+i-u),t.wasm_img.pixelate(n,r,o,i,l,c),t.props.redraw(),t.setState({running:!1})}),100)})),E(b(t),"componentDidMount",(function(){return t.props.showHandler(!0)})),E(b(t),"componentWillUnmount",(function(){t.props.showHandler(!1),t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),E(b(t),"componentDidUpdate",(function(){var e=t.props.position.get("x"),n=t.props.position.get("y"),r=t.props.position.get("width"),o=t.props.position.get("height");e===t.region.x&&n===t.region.y&&r===t.region.width&&o===t.region.height||(t.region.x=e,t.region.y=n,t.region.width=r,t.region.height=o,t.changeApplied=!1,t.pixelate())})),E(b(t),"onChange",(function(e){var n=e.target,r=n.dataset.valueChange,o=t.state.blockSize,i=t.state.blurType;switch(r){case"up":o=Math.min(o+2,11);break;case"down":o=Math.max(o-2,3);break;case"set":o=parseInt(n.value);break;case"blurType":if("pixelate-by-mosaic"===n.id)i="mosaic";else{if("pixelate-by-gaussian"!==n.id)return;i="gaussian"}break;default:return}o===t.state.blockSize&&i===t.state.blurType||(t.setState({blockSize:o,blurType:i},t.pixelate),t.changeApplied=!1)})),E(b(t),"onApply",(function(){t.changeApplied=!0,t.wasm_img.apply_change(),t.wasm_img.rgb_to_hsi(),t.props.onSelectTool("")})),E(b(t),"toggleHandlers",(function(e){var n=document.getElementById("canvas-handler");n&&(n.style.visibility=e.target.checked?"visible":"hidden",t.setState({handlerVisible:!t.state.handlerVisible}))})),t.wasm_img=o.Z.get_wasm_img(),t.state={blockSize:7,handlerVisible:!0,blurType:"mosaic",running:!0},t.region={x:0,y:0,width:0,height:0},t.changeApplied=!0,t}return r=s,(l=[{key:"render",value:function(){return i.createElement("div",{style:{marginBottom:"180x",color:"#CCC"}},i.createElement("div",{className:"blinking-text",style:{visibility:this.state.running?"visible":"hidden"}},"Running"),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Mosaic"),i.createElement("div",null,i.createElement("input",{type:"radio",id:"pixelate-by-mosaic",checked:"mosaic"===this.state.blurType,"data-value-change":"blurType",value:this.state.blurType,name:"pixelate-by-mosaic",className:"radio-input",style:{display:"none"},onChange:this.onChange}),i.createElement("label",{htmlFor:"pixelate-by-mosaic",className:"radio-label"},i.createElement("span",null)))),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Blur"),i.createElement("div",null,i.createElement("input",{type:"radio",id:"pixelate-by-gaussian",checked:"gaussian"===this.state.blurType,"data-value-change":"blurType",value:this.state.blurType,name:"pixelate-by-gaussian",className:"radio-input",style:{display:"none"},onChange:this.onChange}),i.createElement("label",{htmlFor:"pixelate-by-gaussian",className:"radio-label"},i.createElement("span",null)))),i.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"18px"}},i.createElement("button",{className:"resize-view-btn btn-plus-minus","data-value-change":"down",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range","data-value-change":"set",min:"3",max:"11",step:"2",value:this.state.blockSize,onChange:this.onChange}),i.createElement("button",{className:"resize-view-btn btn-plus-minus","data-value-change":"up",onClick:this.onChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"})))),i.createElement("div",{className:"toggle-btn-wrapper",style:{paddingLeft:"8px",paddingRight:"8px"}},i.createElement("div",null,"Show handler"),i.createElement("div",null,i.createElement("input",{type:"checkbox",id:"toggle-pixelate-handlers",className:"toggle-input",style:{display:"none"},checked:this.state.handlerVisible,onChange:this.toggleHandlers}),i.createElement("label",{htmlFor:"toggle-pixelate-handlers",className:"toggle-label"},i.createElement("span",null)))),i.createElement(a.Z,{onApply:this.onApply}))}}])&&h(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);const S=(0,s.$j)((function(e){return{position:e.pixelateHandlers.get("position"),imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,l.DE)({showHandler:c.E9},e)}))(p);r()}catch(_){r(_)}}))},9142:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>S});var o=n(6456),i=n(7294),a=n(9359),l=n(4957),c=n(5820),s=n(3790),u=e([o,a,l,c,s]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=x(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[o,a,l,c,s]=u.then?(await u)():u;const S=function(e){m(y,e);var t,n,r,u,f=(t=y,n=v(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function y(e){var t;return d(this,y),E(b(t=f.call(this,e)),"onSelectTool",(function(e){var n=e?e.target.id:"";n!==t.state.selectedTool&&t.setState({selectedTool:n})})),E(b(t),"componentDidMount",(function(){return t.wasm_img.rgb_to_hsi()})),E(b(t),"componentWillUnmount",(function(){return t.wasm_img.clear_hsi()})),E(b(t),"componentDidUpdate",(function(){})),t.state={selectedTool:""},t.wasm_img=o.Z.get_wasm_img(),t}return r=y,(u=[{key:"render",value:function(){return i.createElement("div",null,i.createElement(p,{onSelect:this.onSelectTool,toolID:"filter-pixelate",selectedTool:this.state.selectedTool,label:"PIXELATE"},i.createElement(s.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})),i.createElement(p,{onSelect:this.onSelectTool,toolID:"filter-gaussianblur",selectedTool:this.state.selectedTool,label:"BLUR"},i.createElement(a.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})),i.createElement(p,{onSelect:this.onSelectTool,toolID:"filter-miniaturize",selectedTool:this.state.selectedTool,label:"MINIATURIZE"},i.createElement(c.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw,loadImage:this.props.loadImage})),i.createElement(p,{onSelect:this.onSelectTool,toolID:"filter-bilateral-filter",selectedTool:this.state.selectedTool,label:"SMOOTHEN"},i.createElement(l.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw,loadImage:this.props.loadImage})))}}])&&h(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),y}(i.Component);var p=function(e){var t=e.selectedTool===e.toolID,n=t?{transform:"rotate(180deg)"}:{transform:"rotate(0deg)"},r=t?{color:"darkorange"}:null;return i.createElement("div",{className:"editor-header-wrapper"},i.createElement("div",{id:e.toolID,className:"editor-header",onClick:e.onSelect},i.createElement("span",{style:r},e.label),i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",className:"svg-down-arrow",style:n},i.createElement("path",{fill:"#CCC",d:"M7.19 7.54L0 .34.34 0l6.85 6.85L14.04 0l.34.34-7.19 7.2z"}))),t?e.children:null)};r()}catch(_){r(_)}}))},187:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>S});var o=n(7294),i=n(6113),a=n(4608),l=n(2608),c=e([l]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=x(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}l=(c.then?(await c)():c)[0];var s=function(e){m(c,e);var t,n,r,i,a=(t=c,n=v(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function c(e){var t;return d(this,c),E(b(t=a.call(this,e)),"componentDidUpdate",(function(e,n){t.props.selectedTool||(t.accordion.style.transform="translate(0px, 0px)")})),E(b(t),"onSelectTool",(function(e){var n=e.target.closest(".tool-icon");n?(t.props.onSelectTool(n.id),t.accordion.style.transform="translate(256px, 0px)"):(t.props.onSelectTool(null),t.accordion.style.transform="translate(0px, 0px)")})),t.accordion=null,t.state={},t}return r=c,(i=[{key:"render",value:function(){var e=this;return o.createElement("div",{style:{display:"flex",height:"calc(100vh - 56px)"}},o.createElement("div",{ref:function(t){return e.accordion=t},id:"tool-prop-list",style:{width:"256px",height:"100%",position:"absolute",backgroundColor:"#2d2e37",left:"-200px",zIndex:5}},o.createElement(l.Z,{selectedTool:this.props.selectedTool,close:this.onSelectTool,zoomRatio:this.props.zoomRatio,loadImage:this.props.loadImage})),o.createElement("ul",{style:{width:"56px",height:"100%",listStyleType:"none",padding:"0",backgroundColor:"#3f414c",marginTop:0,zIndex:10}},o.createElement(p,{id:"tool-basic",iconID:"basic",onClick:this.onSelectTool,selected:"tool-basic"===this.props.selectedTool}),o.createElement(p,{id:"tool-transform",iconID:"transform",onClick:this.onSelectTool,selected:"tool-transform"===this.props.selectedTool}),o.createElement(p,{id:"tool-color",iconID:"color",onClick:this.onSelectTool,selected:"tool-color"===this.props.selectedTool}),o.createElement(p,{id:"tool-filter",iconID:"filter",onClick:this.onSelectTool,selected:"tool-filter"===this.props.selectedTool}),o.createElement(p,{id:"tool-text",iconID:"text",onClick:this.onSelectTool,selected:"tool-text"===this.props.selectedTool})))}}])&&h(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),c}(o.Component);const S=(0,i.$j)((function(e){return{zoomRatio:e.imgStat.get("zoomRatio")}}),null)(s);var u={width:"56px",height:"44px",padding:0,cursor:"pointer"},p=function(e){return o.createElement("li",{style:u,onClick:e.onClick,className:"tool-icon",id:e.id},o.createElement("button",{className:"tool-icon",style:{pointerEvents:"none"}},(0,a.Z)(e.iconID,e.selected)))};r()}catch(_){r(_)}}))},6439:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>v});var o=n(6456),i=n(7294),a=e([o]);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=b(e,"string");return"symbol"===l(t)?t:String(t)}function b(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(a.then?(await a)():a)[0];const v=function(e){u(l,e);var t,n,r,o,a=(t=l,n=h(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function l(e){var t;return c(this,l),y(d(t=a.call(this,e)),"componentDidMount",(function(){})),y(d(t),"componentDidUpdate",(function(){})),t}return r=l,(o=[{key:"render",value:function(){return i.createElement("div",null,"text tool")}}])&&s(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(i.Component);r()}catch(w){r(w)}}))},4608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294);const o=function(e,t){var n,o={width:"22px",height:"22px",fill:t?"#ccc":"#000"};switch(e){case"basic":n=r.createElement("svg",{style:o,viewBox:"0 0 20 20",width:"100%",height:"100%"},r.createElement("path",{fillRule:"evenodd",d:"M17 9.95V20h-1V9.95a2.5 2.5 0 1 1 1 0zm-13 0V20H3V9.95a2.5 2.5 0 1 1 1 0zM3 0h1v5H3V0zm.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM9 0h1v10H9V0zm0 15h1v5H9v-5zm.5 0a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM16 0h1v5h-1V0zm.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}));break;case"color":n=r.createElement("svg",{style:o,xmlns:"http://www.w3.org/2000/svg",width:"20.81",height:"20.82"},r.createElement("path",{d:"M6.71 5a1.83 1.83 0 1 0 1.83 1.79A1.83 1.83 0 0 0 6.71 5zm0 2.44a.61.61 0 0 1-.61-.61.61.61 0 0 1 1.22 0 .61.61 0 0 1-.61.57zM4.27 8.62a1.83 1.83 0 1 0 1.83 1.83 1.83 1.83 0 0 0-1.83-1.83zm0 2.44a.61.61 0 0 1-.61-.61.61.61 0 0 1 1.22 0 .61.61 0 0 1-.61.61zM5.49 13.5a1.83 1.83 0 1 0 1.83 1.82 1.83 1.83 0 0 0-1.83-1.82zm0 2.43a.61.61 0 0 1-.57-.61.61.61 0 0 1 1.22 0 .61.61 0 0 1-.65.61z"}),r.createElement("path",{d:"M19.92 2.9c.61-.9 1.23-2 .61-2.64a1.22 1.22 0 0 0-1.32-.14 6.76 6.76 0 0 0-1.35.7A21.7 21.7 0 0 0 14.16 4a9.16 9.16 0 1 0-7 16.6 9.32 9.32 0 0 0 2 .22 8.8 8.8 0 0 0 1.36-.1 2.6 2.6 0 0 0 2.08-1.78 2.66 2.66 0 0 0-.68-2.75 1.22 1.22 0 0 1 1.72-1.73 2.69 2.69 0 0 0 2.75.65A2.6 2.6 0 0 0 18.2 13a9.19 9.19 0 0 0-1.45-6.48 24.69 24.69 0 0 0 3.17-3.62zm-.5-1.55a11.19 11.19 0 0 1-1.3 1.95l-.67-.66a10.34 10.34 0 0 1 2-1.29zm-2.46 11.5a1.36 1.36 0 0 1-.95 1.1 1.47 1.47 0 0 1-1.51-.35 2.44 2.44 0 1 0-3.45 3.45 1.48 1.48 0 0 1 .36 1.51 1.37 1.37 0 0 1-1.11 1 8.11 8.11 0 0 1-2.94-.1 7.933 7.933 0 0 1 3.3-15.52 7.74 7.74 0 0 1 2.65 1 11 11 0 0 0-1.81 2.69 2.43 2.43 0 0 0-2.39.62 2.48 2.48 0 0 0-.62 1 1.79 1.79 0 0 1-1.47 1.21.62.62 0 0 0-.48.42.62.62 0 0 0 .15.62l.17.17a4 4 0 0 0 5.7 0 2.43 2.43 0 0 0 .58-2.5 11.2 11.2 0 0 0 2.67-1.8 8 8 0 0 1 1.18 5.48zm-5.27-2a2.78 2.78 0 0 1-2 .82 2.87 2.87 0 0 1-1.38-.36 2.94 2.94 0 0 0 1.33-1.67 1.21 1.21 0 0 1 .31-.52 1.22 1.22 0 1 1 1.72 1.73zm2-3.38a5.9 5.9 0 0 1-1.11.64A5.59 5.59 0 0 1 13.3 7a21.5 21.5 0 0 1 3.21-3.54l.81.81a21.56 21.56 0 0 1-3.55 3.17z"}));break;case"filter":n=r.createElement("svg",{style:o,xmlns:"http://www.w3.org/2000/svg",width:"20.92",height:"20.98"},r.createElement("path",{d:"M11.47 7.94L0 19.41 1.58 21 16.53 6l-1.57-1.55zm-9.9 12l-.52-.53L11.73 8.73l.52.53zM12.78 8.73l-.53-.52 2.71-2.71.52.53zM14.99 3.34a.38.38 0 0 0 .37-.34V.37a.38.38 0 0 0-.75 0V3a.38.38 0 0 0 .38.34zM14.99 8.53a.37.37 0 0 0-.38.37v2.59a.38.38 0 0 0 .75 0V8.9a.37.37 0 0 0-.37-.37zM20.55 5.56h-2.64a.38.38 0 0 0-.37.37.37.37 0 0 0 .37.37h2.6a.37.37 0 0 0 .4-.37.38.38 0 0 0-.36-.37zM9.42 6.3h2.6a.37.37 0 0 0 .37-.37.38.38 0 0 0-.37-.37h-2.6a.38.38 0 0 0-.37.37.37.37 0 0 0 .37.37zM17.21 4.08a.36.36 0 0 0 .26-.08l1.84-1.87a.37.37 0 0 0 0-.52.39.39 0 0 0-.53 0l-1.87 1.84a.36.36 0 0 0 0 .55.38.38 0 0 0 .3.08zM17.47 7.89a.37.37 0 0 0-.52 0 .37.37 0 0 0 0 .53l1.83 1.83a.36.36 0 0 0 .27.11.34.34 0 0 0 .26-.11.37.37 0 0 0 0-.52zM12.5 4a.38.38 0 0 0 .26.11.36.36 0 0 0 .26-.11.36.36 0 0 0 0-.52l-1.83-1.87a.39.39 0 0 0-.53 0 .37.37 0 0 0 0 .52z"}));break;case"transform":n=r.createElement("svg",{style:o,xmlns:"http://www.w3.org/2000/svg",width:"20.61",height:"20.6"},r.createElement("path",{d:"M13.58 5.31L10.6.16a.36.36 0 0 0-.49-.1.32.32 0 0 0-.1.1L7 5.31a.34.34 0 0 0 .13.47.34.34 0 0 0 .17 0h5.95a.34.34 0 0 0 .34-.34.39.39 0 0 0-.01-.13zm-5.66-.17l2.38-4.12 2.38 4.12zM20.27 14.42h-5.5a.34.34 0 0 0-.34.34v5.49a.35.35 0 0 0 .34.35h5.5a.35.35 0 0 0 .34-.34v-5.5a.34.34 0 0 0-.34-.34zm-.35 5.49h-4.81V15.1h4.81zM3.09 14.42a3.09 3.09 0 1 0 3.09 3.09 3.09 3.09 0 0 0-3.09-3.09zm0 5.49a2.41 2.41 0 1 1 2.41-2.4 2.4 2.4 0 0 1-2.41 2.4zM7 3.8l-.28-.63a8.59 8.59 0 0 0-4.51 10.69l.64-.23A7.91 7.91 0 0 1 7 3.8zM13.27 18.31a8 8 0 0 1-6.13-.09l-.27.64a8.57 8.57 0 0 0 6.65.09zM14.46 3.47l-.23-.12-.31.61.2.11.17-.3-.17.3a7.92 7.92 0 0 1 3.73 9.22l.66.2a8.59 8.59 0 0 0-4.05-10.02z"}));break;case"text":n=r.createElement("svg",{style:o,xmlns:"http://www.w3.org/2000/svg",width:"20.24",height:"20.77"},r.createElement("path",{d:"M20.23 5.1a.9.9 0 0 1-.07.38c0 .07-.14.12-.31.15a.59.59 0 0 1-.77-.43 5.5 5.5 0 0 0-1.58-2.75c-.84-.62-2.33-.94-4.45-.94-.86 0-1.33.09-1.41.28a.6.6 0 0 0-.05.26v15.46a1.75 1.75 0 0 0 .47 1.39 4.32 4.32 0 0 0 1.79.82 8.59 8.59 0 0 1 .84.19c.38 0 .41.86-.3.86H5.94a.48.48 0 0 1-.06-.83l.63-.28a7.85 7.85 0 0 0 1.8-.82 2.46 2.46 0 0 0 .52-1.75v-15c0-.3-.18-.47-.56-.53h-.91a7.41 7.41 0 0 0-4.34 1 6.33 6.33 0 0 0-1.88 2.8c-.17.42-.42.56-.73.41S-.06 5.5.03 5.2A16.13 16.13 0 0 0 .57.44c0-.24.31-.48 1-.44l17.38.05c.58-.08.89 0 .95.28a21.65 21.65 0 0 1 .33 4.77z"}))}return n}},4827:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>x});var o=n(6456),i=n(7294),a=n(5805),l=n(4791),c=n(6113),s=e([o]);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=O(e,"string");return"symbol"===p(t)?t:String(t)}function O(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(s.then?(await s)():s)[0];var u=function(e){h(c,e);var t,n,r,a,l=(t=c,n=b(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y(this,e)});function c(e){var t;return f(this,c),w(g(t=l.call(this,e)),"componentDidMount",(function(){return t.props.showCropHandlers(!0)})),w(g(t),"componentWillUnmount",(function(){return t.props.showCropHandlers(!1)})),w(g(t),"onApply",(function(e){var n=t.cropRegion.getElementsByClassName("canvas-handler-region-info"),r=parseInt(n[0].innerText),o=parseInt(n[1].innerText),i=parseInt(n[2].innerText),a=parseInt(n[3].innerText);t.props.setWidthHeight({width:r,height:o}),t.wasm_img.crop(i,a,r,o),t.wasm_img.apply_change(),t.props.onSelectTool(""),t.props.redraw()})),t.wasm_img=o.Z.get_wasm_img(),t.imgWidth=e.imgWidth,t.imgHeight=e.imgHeight,t.cropRegion=null,t.state={},t}return r=c,(a=[{key:"render",value:function(){var e=this;return i.createElement("div",null,i.createElement("div",{id:"crop-region-info",className:"handler-info",ref:function(t){return e.cropRegion=t},style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:"8px",paddingRight:"8px",marginBottom:"18px"}},i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Width"),i.createElement("div",{className:"canvas-handler-region-info"},this.imgWidth+" px")),i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Height"),i.createElement("div",{className:"canvas-handler-region-info"},this.imgHeight+" px")),i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Top-left X"),i.createElement("div",{className:"canvas-handler-region-info"},0)),i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Top-left Y"),i.createElement("div",{className:"canvas-handler-region-info"},0))),i.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},i.createElement("button",{className:"primary-btn apply-btn",onClick:this.onApply},i.createElement("svg",{viewBox:"0 0 20 20",width:"20",height:"20",transform:"scale(0.8, 0.8)"},i.createElement("path",{fillRule:"evenodd",fill:"#FFF",d:"M18.388 2L20 3.557 6.576 17.458 0 11.108 1.804 9.24l4.964 4.793L18.388 2z"})))))}}])&&d(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),c}(i.Component);const x=(0,c.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,l.DE)({setWidthHeight:a.zo},e)}))(u);r()}catch(S){r(S)}}))},4003:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>S});var o=n(6456),i=n(7294),a=n(4630),l=n(4791),c=n(5805),s=n(6113),u=e([o]);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=x(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(u.then?(await u)():u)[0];var p=function(e){m(s,e);var t,n,r,l,c=(t=s,n=v(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return g(this,e)});function s(e){var t;return d(this,s),E(b(t=c.call(this,e)),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),E(b(t),"onClick",(function(e){t.op[e.target.id](),t.changeApplied=!1,t.props.redraw()})),E(b(t),"onApply",(function(){t.switched&&t.props.setWidthHeight({width:t.props.imgHeight,height:t.props.imgWidth}),t.wasm_img.apply_change(),t.changeApplied=!0,t.props.onSelectTool("")})),t.wasm_img=o.Z.get_wasm_img(),t.state={},t.changeApplied=!0,t.switched=!1,t.op={rotate_counter_clockwise:function(){t.switched=!t.switched,t.wasm_img.rotate(!1)},rotate_clockwise:function(){t.switched=!t.switched,t.wasm_img.rotate(!0)},flip_h:function(){t.wasm_img.flip_h()},flip_v:function(){t.wasm_img.flip_v()}},t}return r=s,(l=[{key:"render",value:function(){return i.createElement("div",null,i.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},i.createElement("button",{className:"editor-btn",id:"rotate_counter_clockwise",onClick:this.onClick},a.Z.rotate_counter_clockwise),i.createElement("button",{className:"editor-btn",id:"rotate_clockwise",onClick:this.onClick},a.Z.rotate_clockwise),i.createElement("button",{className:"editor-btn",id:"flip_h",onClick:this.onClick},a.Z.flip_horizontal),i.createElement("button",{className:"editor-btn",id:"flip_v",onClick:this.onClick},a.Z.flip_vertical)),i.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},i.createElement("button",{className:"primary-btn apply-btn",onClick:this.onApply},i.createElement("svg",{viewBox:"0 0 20 20",width:"20",height:"20",transform:"scale(0.8, 0.8)"},i.createElement("path",{fillRule:"evenodd",fill:"#FFF",d:"M18.388 2L20 3.557 6.576 17.458 0 11.108 1.804 9.24l4.964 4.793L18.388 2z"})))))}}])&&h(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),s}(i.Component);const S=(0,s.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,l.DE)({setWidthHeight:c.zo},e)}))(p);r()}catch(_){r(_)}}))},7545:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>x});var o=n(6456),i=n(7294),a=n(5805),l=n(4791),c=n(6113),s=e([o]);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=O(e,"string");return"symbol"===p(t)?t:String(t)}function O(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}o=(s.then?(await s)():s)[0];var u=function(e){h(c,e);var t,n,r,a,l=(t=c,n=b(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y(this,e)});function c(e){var t;return f(this,c),w(g(t=l.call(this,e)),"componentWillUnmount",(function(){t.changeApplied||(t.wasm_img.discard_change(),t.props.redraw())})),w(g(t),"onScaleChange",(function(e){var n=1;switch(e.target.id){case"transform-scale-setter":n=parseInt(e.target.value);break;case"transform-scale-down-btn":n=Math.max(t.state.scaleFactor-10,10);break;case"transform-scale-up-btn":n=Math.min(t.state.scaleFactor+10,100);break;default:return}t.state.scaleFactor!==n&&(t.wasm_img.scale(n/100),t.props.redraw(),t.setState({scaleFactor:n}),t.changeApplied=!1)})),w(g(t),"onApply",(function(e){t.imgWidth=Math.round(t.imgWidth*t.state.scaleFactor/100),t.imgHeight=Math.round(t.imgHeight*t.state.scaleFactor/100),t.props.setWidthHeight({width:t.imgWidth,height:t.imgHeight}),t.wasm_img.apply_change(),t.changeApplied=!0,t.props.onSelectTool("")})),t.wasm_img=o.Z.get_wasm_img(),t.imgWidth=e.imgWidth,t.imgHeight=e.imgHeight,t.scaleRegion=null,t.changeApplied=!0,t.state={scaleFactor:100},t}return r=c,(a=[{key:"render",value:function(){var e=this,t=this.state.scaleFactor;return i.createElement("div",null,i.createElement("div",{id:"scale-region-info",className:"handler-info",ref:function(t){return e.scaleRegion=t},style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:"8px",paddingRight:"8px",marginBottom:"0"}},i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Width"),i.createElement("div",{className:"canvas-handler-region-info"},Math.round(t*this.imgWidth/100)+" px")),i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Height"),i.createElement("div",{className:"canvas-handler-region-info"},Math.round(t*this.imgHeight/100)+" px")),i.createElement("div",{style:{marginBottom:"18px"}},i.createElement("label",{style:{color:"#a0a0a0",paddingLeft:"4px"}},"Ratio"),i.createElement("div",{className:"canvas-handler-region-info"},t+" %"))),i.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"24px"}},i.createElement("button",{className:"resize-view-btn",id:"transform-scale-down-btn",onClick:this.onScaleChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"white",viewBox:"-3 -3 22 22",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9zm0 17.36A8.34 8.34 0 1 1 17.36 9 8.35 8.35 0 0 1 9 17.36z"}),i.createElement("path",{d:"M13.54 8.68h-9a.35.35 0 0 0 0 .69h9a.35.35 0 1 0 0-.69z"}))),i.createElement("input",{type:"range",id:"transform-scale-setter",min:"10",max:"100",step:"10",value:this.state.scaleFactor,onChange:this.onScaleChange}),i.createElement("button",{className:"resize-view-btn",id:"transform-scale-up-btn",onClick:this.onScaleChange},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"white",viewBox:"-1 -2 23 23",pointerEvents:"none"},i.createElement("path",{stroke:"#525562",d:"M10.39 0a10.39 10.39 0 1 0 10.38 10.39A10.4 10.4 0 0 0 10.39 0zm0 20A9.59 9.59 0 1 1 20 10.39 9.6 9.6 0 0 1 10.39 20z"}),i.createElement("path",{d:"M15.38 10h-4.59V5.59a.4.4 0 0 0-.8 0V10h-4.6a.4.4 0 1 0 0 .8H10v4.79a.4.4 0 0 0 .8 0v-4.8h4.59a.4.4 0 1 0 0-.8z"})))),i.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},i.createElement("button",{className:"primary-btn apply-btn",onClick:this.onApply},i.createElement("svg",{viewBox:"0 0 20 20",width:"20",height:"20",transform:"scale(0.8, 0.8)"},i.createElement("path",{fillRule:"evenodd",fill:"#FFF",d:"M18.388 2L20 3.557 6.576 17.458 0 11.108 1.804 9.24l4.964 4.793L18.388 2z"})))))}}])&&d(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),c}(i.Component);const x=(0,c.$j)((function(e){return{imgWidth:e.imgStat.get("width"),imgHeight:e.imgStat.get("height")}}),(function(e){return(0,l.DE)({setWidthHeight:a.zo},e)}))(u);r()}catch(S){r(S)}}))},4630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294);const o={rotate_counter_clockwise:r.createElement("svg",{fill:"#ccc",viewBox:"0 0 20 20",width:"100%",height:"100%",pointerEvents:"none"},r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M6.5 19.811c.645.124 1.314.189 2 .189 5.247 0 9.5-3.806 9.5-8.5S13.747 3 8.5 3c-1.83 0-3.538.463-4.988 1.265L4.809 5.84A8.374 8.374 0 0 1 8.5 5c4.142 0 7.5 2.91 7.5 6.5S12.642 18 8.5 18a8.595 8.595 0 0 1-2-.234v2.045z"}),r.createElement("path",{d:"M2.707 4.95L2 4.243 6.243 0l1.414 1.414-2.829 2.829L7.657 7.07 6.243 8.485 2.707 4.95z"}))),rotate_clockwise:r.createElement("svg",{fill:"#ccc",viewBox:"0 0 20 20",width:"100%",height:"100%",pointerEvents:"none"},r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M13.5 19.811c-.645.124-1.314.189-2 .189C6.253 20 2 16.194 2 11.5S6.253 3 11.5 3c1.83 0 3.538.463 4.988 1.265L15.191 5.84A8.374 8.374 0 0 0 11.5 5C7.358 5 4 7.91 4 11.5S7.358 18 11.5 18c.693 0 1.363-.081 2-.234v2.045z"}),r.createElement("path",{d:"M17.293 4.95L18 4.243 13.757 0l-1.414 1.414 2.829 2.829-2.829 2.828 1.414 1.414 3.536-3.535z"}))),flip_horizontal:r.createElement("svg",{fill:"#ccc",viewBox:"0 0 20 20",width:"100%",height:"100%",pointerEvents:"none"},r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M0 5v10l7-5z"}),r.createElement("path",{fillRule:"nonzero",d:"M19 6l-5 4 5 4V6zm1-2.08v12.16L12.4 10 20 3.92z"}),r.createElement("path",{d:"M9 0h2v20H9z"}))),flip_vertical:r.createElement("svg",{fill:"#ccc",viewBox:"0 0 20 20",width:"100%",height:"100%",pointerEvents:"none"},r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M5 0h10l-5 7zM0 9h20v2H0z"}),r.createElement("path",{fillRule:"nonzero",d:"M10 13l5 7H5l5-7zm-3.373 6.163h6.746L10 14.44l-3.373 4.722z"})))}},9842:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>_});var o=n(6113),i=n(4791),a=n(5805),l=n(7294),c=n(4827),s=n(7545),u=n(4003),p=e([c,s,u]);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function x(e){var t=S(e,"string");return"symbol"===h(t)?t:String(t)}function S(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[c,s,u]=p.then?(await p)():p;var f=function(e){g(a,e);var t,n,r,o,i=(t=a,n=E(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v(this,e)});function a(e){var t,n,r,o;return m(this,a),n=w(t=i.call(this,e)),o=function(e){var n=e?e.target.id:"";n!==t.state.selectedTool&&t.setState({selectedTool:n})},(r=x(r="onSelectTool"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={selectedTool:""},t}return r=a,(o=[{key:"render",value:function(){return l.createElement("div",null,l.createElement(d,{onSelect:this.onSelectTool,toolID:"transform-crop",selectedTool:this.state.selectedTool,label:"CROP"},l.createElement(c.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw,showCropHandlers:this.props.showCropHandlers})),l.createElement(d,{onSelect:this.onSelectTool,toolID:"transform-rotate",selectedTool:this.state.selectedTool,label:"ROTATE"},l.createElement(u.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})),l.createElement(d,{onSelect:this.onSelectTool,toolID:"transform-scale",selectedTool:this.state.selectedTool,label:"SCALE"},l.createElement(s.Z,{onSelectTool:this.onSelectTool,redraw:this.props.redraw})))}}])&&y(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(l.Component);const _=(0,o.$j)(null,(function(e){return(0,i.DE)({showCropHandlers:a.Vf},e)}))(f);var d=function(e){var t=e.selectedTool===e.toolID,n=t?{transform:"rotate(180deg)"}:{transform:"rotate(0deg)"},r=t?{color:"darkorange"}:null;return l.createElement("div",{className:"editor-header-wrapper"},l.createElement("div",{id:e.toolID,className:"editor-header",onClick:e.onSelect},l.createElement("span",{style:r},e.label),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",className:"svg-down-arrow",style:n},l.createElement("path",{fill:"#CCC",d:"M7.19 7.54L0 .34.34 0l6.85 6.85L14.04 0l.34.34-7.19 7.2z"}))),t?e.children:null)};r()}catch(j){r(j)}}))},6456:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>l});var o=n(976),i=e([o]);o=(i.then?(await i)():i)[0];const l={get_wasm_img:function(){return a||(a=a=o.Ee.new(0,0,new Uint8Array(2))),a},imgBuff:null};r()}catch(e){r(e)}var a}))},8928:e=>{e.exports={SET_ZOOM_RATIO:"SET_ZOOM_RATIO",SET_WIDTH_HEIGHT:"SET_WIDTH_HEIGHT",SHOW_CROP_HANDLERS:"SHOW_CROP_HANDLERS",SHOW_PIXELATE_HANDLERS:"SHOW_PIXELATE_HANDLERS",SET_PIXELATE_HANDLERS_POSITION:"SET_PIXELATE_HANDLERS_POSITION",SHOW_MINI_HANDLERS:"SHOW_MINI_HANDLERS",SET_MINI_HANDLERS_HEIGHTS:"SET_MINI_HANDLERS_HEIGHTS"}},9361:e=>{e.exports={CIRCLE_RADIUS:9,HANDLER_COMMON_PROPS:{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiIHZlcnNpb249IjEuMSI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjUiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iIzAwN2RmYyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9zdmc+",preserveAspectRatio:"none",width:18,height:18},DEF_HANDLER_RECT_WIDTH:200,DEF_HANDLER_RECT_HEIGHT:200,MIN_HANDLER_RECT_WIDTH:27,MIN_HANDLER_RECT_HEIGHT:27}},4506:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4791),o=n(4655),i=n(8928),a=(0,o.d0)({zoomRatio:1,width:0,height:0}),l=(0,o.d0)({visible:!1,position:{x:0,y:0,width:0,height:0}}),c=(0,o.d0)({visible:!1,heights:{top:0,bottom:0}});const s=(0,r.UY)({imgStat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:""};switch(t.type){case i.SET_ZOOM_RATIO:return e.set("zoomRatio",t.zoomRatio);case i.SET_WIDTH_HEIGHT:return e.set("width",t.width).set("height",t.height);default:return e}},cropHandlersVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:""};return t.type===i.SHOW_CROP_HANDLERS?t.show:e},pixelateHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:""};switch(t.type){case i.SHOW_PIXELATE_HANDLERS:return e.set("visible",t.visible);case i.SET_PIXELATE_HANDLERS_POSITION:return e.set("position",(0,o.d0)(t.rect));default:return e}},miniHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:""};switch(t.type){case i.SHOW_MINI_HANDLERS:return e.set("visible",t.visible);case i.SET_MINI_HANDLERS_HEIGHTS:return e.set("heights",(0,o.d0)(t.heights));default:return e}}})},5426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,"html,\nbody {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\nbody {\n  font: 14px 'Lucida Grande', Helvetica, Arial, sans-serif;\n}\n\na {\n  color: #00b7ff;\n}\n\n.resize-view-btn {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n}\n.resize-view-btn:focus {\n  outline: none;\n}\n\n.disabled {\n  cursor: not-allowed;\n}\n.disabled:hover {\n  cursor: not-allowed;\n}\n\n.scrollbar {\n  overflow: auto;\n}\n.scrollbar::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n  background-color: #f5f5f5;\n}\n.scrollbar::-webkit-scrollbar-thumb {\n  background-color: #ccc;\n}\n.scrollbar::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  background-color: #f5f5f5;\n}\n\n#tool-prop-list {\n  transition: transform 0.25s ease-out;\n}\n\n#canvas-parent {\n  transition: transform 0.25s ease-out;\n}\n\n.editor-header {\n  color: #ccc;\n  height: 42px;\n  background-color: #3f414c;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 8px;\n  padding-right: 8px;\n  cursor: pointer;\n  margin-bottom: 18px;\n}\n.editor-header span {\n  pointer-events: none; /* to prevent this element from capturing click evt */\n}\n.editor-header-wrapper {\n  /*\n    display: flex;\n    align-items: center;\n    */\n  margin-bottom: 20px;\n}\n\n.svg-down-arrow {\n  /* transition: transform 0.5s; */\n  margin-right: 8px;\n}\n\n#modal-camera {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #000;\n  opacity: 1;\n  z-index: 10;\n}\n\n.camera-action {\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n}\n.camera-action:focus {\n  outline: none;\n}\n\n#flash {\n  z-index: 18;\n  position: absolute;\n  top: 0;\n  background-color: #ddd;\n  display: none;\n}\n.flash {\n  display: block !important;\n  opacity: 0.6;\n  animation: flash 1.5s;\n}\n\n@keyframes flash {\n  0% {\n    opacity: 0.7;\n  }\n  25% {\n    opacity: 0.7;\n  }\n  50% {\n    opacity: 0.7;\n  }\n  50%,\n  75%,\n  100% {\n    opacity: 0;\n  }\n}\n\n.tool-icon {\n  display: block;\n  width: 56px;\n  padding: 0.75rem 1.125rem;\n  background-color: #3f414c;\n  color: #ededed;\n  border: none;\n  cursor: pointer;\n}\n.tool-icon:focus {\n  outline: none;\n}\n\n/*\n.editor-item-label {\n    color: #FFF;\n    margin-bottom: 8px;\n}\n*/\n\n/* buttons like: flip-left/right, rotate-clockwise */\n.editor-btn,\n#editor-goback-btn {\n  width: 32px;\n  height: 32px;\n  background-color: transparent;\n  cursor: pointer;\n}\n#editor-goback-btn {\n  border: none;\n}\n.editor-btn {\n  border: 1px solid #373842;\n}\n.editor-btn:hover {\n  border: 1px solid #ccc;\n}\n.editor-btn:focus,\n#editor-goback-btn:focus {\n  outline: none;\n}\n/*\nhttp://brennaobrien.com/blog/2014/05/style-input-type-range-in-every-browser.html\n*/\n\n.primary-btn {\n  width: 80px;\n  height: 36px;\n  border: none;\n  cursor: pointer;\n  border-radius: 3px;\n}\n.primary-btn:focus {\n  outline: none;\n}\n.apply-btn {\n  background-color: #387dcd;\n}\n.cancel-btn {\n  background-color: #3f414c;\n}\n\n.canvas-handler-region-info {\n  color: #ededed;\n  margin-top: 8px;\n  padding-left: 4px;\n  width: 80px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  border: 1px solid #373842;\n}\n\n.img-file-handler-btn {\n  color: #ededed;\n  background-color: transparent;\n  border: 1px solid #373842;\n  font-size: 16px;\n  cursor: pointer;\n}\n.img-file-handler-btn:focus {\n  outline: none;\n}\n\n.clickable {\n  cursor: pointer;\n}\n\n.dropdown-menu {\n  position: absolute;\n  margin-top: 40px;\n  color: #ededed;\n  list-style: none;\n  padding-left: 0;\n  border-radius: 3px;\n  background-color: #25262d;\n  filter: drop-shadow(0 0 0.5rem rgba(0, 0, 0, 0.5));\n  top: 8px;\n  left: -8px;\n  width: 260px;\n}\n.dropdown-menu li {\n  margin: 16px;\n}\n.dropdown-menu li.active {\n  color: #387dcd;\n}\n.dropdown-menu #img-url:focus {\n  outline: none;\n}\n\n/*\nhttps://codepen.io/bbodine1/pen/novBm\nhttps://codepen.io/andreasstorm/pen/ZorYLO\n */\n.toggle-label,\n.radio-label {\n  position: relative;\n  display: block;\n  width: 40px;\n  height: 20px;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n  transform: translate3d(0, 0, 0);\n}\n.toggle-label:before,\n.radio-label:before {\n  content: '';\n  position: relative;\n  top: 7px;\n  left: 3px;\n  width: 34px;\n  height: 8px;\n  display: block;\n  background: #9a9999;\n  border-radius: 8px;\n  transition: background 0.2s ease;\n}\n.toggle-label span,\n.radio-label span {\n  position: absolute;\n  top: 2px;\n  left: 1px;\n  width: 16px;\n  height: 16px;\n  display: block;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0 3px 8px rgba(154, 153, 153, 0.5);\n  transition: all 0.2s ease;\n}\n\n.toggle-label span:before,\n.radio-label span:before {\n  content: '';\n  position: absolute;\n  display: block;\n  margin: -18px;\n  width: 56px;\n  height: 56px;\n  background: rgba(79, 46, 220, 0.5);\n  border-radius: 50%;\n  transform: scale(0);\n  opacity: 1;\n  pointer-events: none;\n}\n\n.toggle-input:checked + .toggle-label:before,\n.radio-input:checked + .radio-label:before {\n  background: #ccc; /* #947ADA; */\n}\n\n.toggle-input:checked + .toggle-label span,\n.radio-input:checked + .radio-label span {\n  background: #347bd0; /* #4F2EDC; */\n  transform: translateX(20px);\n  transition: all 0.2s cubic-bezier(0.8, 0.4, 0.3, 1.25), background 0.15s ease;\n  box-shadow: 0 3px 8px rgba(79, 46, 220, 0.2);\n}\n.toggle-input:checked + .toggle-label span:before,\n.radio-input:checked + .radio-label span:before {\n  transform: scale(1);\n  opacity: 0;\n  transition: all 0.4s ease;\n}\n\n.toggle-btn-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 14px;\n}\n\ninput[type='range'] {\n  -webkit-appearance: none;\n  border: none;\n  width: 180px;\n  cursor: pointer;\n}\n\ninput[type='range']::-webkit-slider-runnable-track {\n  width: 180px;\n  height: 5px;\n  background: #ddd;\n  border: none;\n  border-radius: 1px;\n}\n\ninput[type='range']::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #347bd0;\n  margin-top: -7px;\n}\n\ninput[type='range']:focus {\n  outline: none;\n}\n\ninput[type='range']:focus::-webkit-slider-runnable-track {\n  background: #ccc;\n}\n\ninput[type='range']::-moz-range-track {\n  width: 180px;\n  height: 5px;\n  background: #ddd;\n  border: none;\n  border-radius: 1px;\n}\n\ninput[type='range']::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #347bd0;\n}\n\n/*hide the outline behind the border*/\ninput[type='range']:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput[type='range']:focus::-moz-range-track {\n  background: #ccc;\n}\n\ninput[type='range']::-ms-track {\n  width: 180px;\n  height: 5px;\n\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n\n  /*remove default tick marks*/\n  color: transparent;\n}\ninput[type='range']::-ms-fill-lower {\n  background: #347bd0;\n  border-radius: 1px;\n}\ninput[type='range']::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 1px;\n}\ninput[type='range']::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #347bd0;\n}\ninput[type='range']:focus::-ms-fill-lower {\n  background: #347bd0;\n}\ninput[type='range']:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.blinking-text {\n  color: red;\n  font-size: 11px;\n  position: relative;\n  margin-top: -10px;\n  margin-bottom: 6px;\n  margin-left: 8px;\n  animation: blinker 1s linear infinite;\n}\n@keyframes blinker {\n  50% {\n    opacity: 0;\n  }\n}\n",""]);const l=a},7654:(e,t,n)=>{"use strict";var r=n(3379),o=n.n(r),i=n(3380),a=n.n(i),l=n(569),c=n.n(l),s=n(3565),u=n.n(s),p=n(9216),f=n.n(p),d=n(4589),h=n.n(d),m=n(5426),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=f(),o()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals}}]);